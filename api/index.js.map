{
  "version": 3,
  "sources": ["<stdin>", "../app/entry.server.tsx", "../app/root.tsx", "../app/components/core/Buttons.tsx", "../app/components/Header.tsx", "../app/utils/index.ts", "../app/utils/hooks.ts", "../app/components/home/PremiumLink.tsx", "../app/utils/analytics/googleTagManger.tsx", "../app/utils/analytics/hotjar.ts", "../app/routes/api/login/link-guest-account.tsx", "../app/utils/db.server.ts", "../app/services/db.server.ts", "../app/utils/payment.ts", "../app/utils/emails.server.ts", "../app/utils/session.server.ts", "../app/utils/user.server.ts", "../app/routes/api/stripe-webhook.tsx", "../app/utils/payment.server.ts", "../app/routes/api/generate-text.tsx", "../app/models/index.ts", "../app/routes/payment/failure.tsx", "../app/routes/payment/success.tsx", "../app/routes/profile/payment.tsx", "../app/routes/api/tts.tsx", "../app/routes/contact.tsx", "../app/routes/pricing.tsx", "../app/components/core/ErrorMessage.tsx", "../app/components/landing-page/MainFeaturesBulletPoint.tsx", "../app/components/landing-page/IconWrapper.tsx", "../app/components/landing-page/FeatureBulletPoint.tsx", "../app/components/landing-page/SubBulletPoint.tsx", "../app/components/Modals/LoginModal.tsx", "../app/routes/login.tsx", "../app/components/core/Card.tsx", "../app/models/login.ts", "../app/services/firebase.ts", "../app/routes/index.tsx", "../app/routes/terms.tsx", "../app/routes/app.tsx", "server-assets-manifest:@remix-run/dev/assets-manifest", "server-entry-module:@remix-run/dev/server-build"],
  "sourcesContent": ["export * from \"@remix-run/dev/server-build\";", "import type { EntryContext } from \"@remix-run/node\";\nimport { RemixServer } from \"@remix-run/react\";\nimport { renderToPipeableStream } from \"react-dom/server\";\nimport { PassThrough } from \"stream\";\n\nconst ABORT_DELAY = 20000;\n\nexport default function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  const callbackName = \"onShellReady\";\n\n  return new Promise((resolve, reject) => {\n    let didError = false;\n\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer context={remixContext} url={request.url} />,\n      {\n        [callbackName]() {\n          let body = new PassThrough();\n\n          responseHeaders.set(\"Content-Type\", \"text/html\");\n\n          resolve(\n            // @ts-expect-error\n            new Response(body, {\n              status: didError ? 500 : responseStatusCode,\n              headers: responseHeaders,\n            })\n          );\n          pipe(body);\n        },\n        onShellError(err: unknown) {\n          reject(err);\n        },\n        onError(error: unknown) {\n          didError = true;\n          console.error(error);\n        },\n      }\n    );\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n", "import { json, LoaderFunction, MetaFunction } from \"@vercel/remix\";\nimport {\n  Link,\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n  useLoaderData,\n} from \"@remix-run/react\";\nimport { useEffect } from \"react\";\n\nimport styles from \"~/index.css\";\nimport Button from \"./components/core/Buttons\";\nimport Header from \"./components/Header\";\nimport GoogleTagManager from \"./utils/analytics/googleTagManger\";\nimport { setupHotjar } from \"./utils/analytics/hotjar\";\n\nexport const meta: MetaFunction = () => ({\n  charset: \"utf-8\",\n  title: \"AudioMate\",\n  // description:\n  //   \"Speak to the world's best language-learning chatbot and confidently master foreign languages through conversation\",\n  viewport: \"width=device-width,initial-scale=1\",\n  // \"og:title\": \"LanguageMate\",\n  // \"og:description\":\n  //   \"Speak to the world's best language-learning chatbot and confidently master foreign languages through conversation\",\n  // \"og:type\": \"website\",\n  // \"og:url\": \"https://languagemate.io\",\n  // \"og:image\":\n  //   \"https://storage.googleapis.com/languagemate-public/Facebook%20og%20image.png\",\n  // \"twitter:title\": \"LanguageMate\",\n  // \"twitter:description\": \"Master foreign languages through conversation\",\n  // \"twitter:image\":\n  //   \"https://storage.googleapis.com/languagemate-public/Twitter%20card.png\",\n  // \"twitter:card\": \"summary_large_image\",\n});\n\nexport function links() {\n  return [{ href: styles, rel: \"stylesheet\" }];\n}\n\nexport type RootLoaderData = {\n  env: \"development\" | \"test\" | \"production\";\n};\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  return json({ env: process.env.NODE_ENV });\n};\n\nfunction addTrackers() {\n  setupHotjar();\n}\n\nexport default function App() {\n  const { env } = useLoaderData<RootLoaderData>() as RootLoaderData;\n\n  useEffect(() => {\n    if (env === \"production\") addTrackers();\n  }, []);\n\n  useEffect(() => {\n    if (env === \"development\") return;\n    navigator.serviceWorker\n      .register(\"/sw.js\")\n      .then(() => {\n        console.log(\"Service worker registered!\");\n      })\n      .catch((error) => {\n        console.warn(\"Error registering service worker:\");\n        console.warn(error);\n      });\n  }, []);\n\n  return (\n    <html lang=\"en\">\n      <head>\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" />\n        <link\n          href=\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap\"\n          rel=\"stylesheet\"\n        />\n        <link rel=\"manifest\" href=\"/manifest.json\" />\n        <GoogleTagManager env={env} gtmTrackingId=\"GTM-PXRZMNX\" />\n        <Meta />\n        <Links />\n      </head>\n      <body className=\"bg-slate-100 \">\n        <div className=\"min-h-screen\">\n          <Outlet />\n        </div>\n        <ScrollRestoration />\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n\nexport function ErrorBoundary() {\n  return (\n    <html lang=\"en\">\n      <head>\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" />\n        <link\n          href=\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap\"\n          rel=\"stylesheet\"\n        />\n        <Meta />\n        <Links />\n      </head>\n\n      <body className=\"bg-slate-100\">\n        <Header user={undefined} />\n        <div className=\"mx-auto flex min-h-screen max-w-lg flex-col gap-8 px-2\">\n          <h1 className=\"text-lg font-bold text-blue-800\">\n            LanguageMate is at capacity right now\n          </h1>\n\n          <p>\n            We're thrilled to have so many users! Fear not, we're hustling to\n            make some room and get things back up to speed faster than a cheetah\n            on roller skates. In the meantime, hang tight and enjoy some cat\n            videos (we won't judge).\n          </p>\n\n          <p>Thanks for your patience and for being a part of our community!</p>\n\n          <p>Try refreshing or come back later</p>\n\n          <img\n            src=\"https://firebasestorage.googleapis.com/v0/b/languagemate2.appspot.com/o/IMG_0059.PNG?alt=media&token=b0426f00-2cc3-471c-9a25-f27ad180d043\"\n            className=\"mx-auto h-auto w-1/2 max-w-[300px] rounded-md shadow-md\"\n          />\n        </div>\n        <ScrollRestoration />\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n\nexport function CatchBoundary() {\n  return (\n    <html lang=\"en\">\n      <head>\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" />\n        <link\n          href=\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap\"\n          rel=\"stylesheet\"\n        />\n        <Meta />\n        <Links />\n      </head>\n\n      <body className=\"bg-slate-100\">\n        <Header user={undefined} />\n        <div className=\"mx-auto flex min-h-screen max-w-lg flex-col gap-8 px-2\">\n          <h1 className=\"text-lg font-bold text-blue-800\">\n            This page does not exist\n          </h1>\n\n          <Link to=\"/\">\n            <Button>Go home</Button>\n          </Link>\n          <img\n            src=\"https://firebasestorage.googleapis.com/v0/b/languagemate2.appspot.com/o/IMG_0059.PNG?alt=media&token=b0426f00-2cc3-471c-9a25-f27ad180d043\"\n            className=\"mx-auto h-auto w-1/2 max-w-[300px] rounded-md shadow-md\"\n          />\n        </div>\n        <ScrollRestoration />\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n", "import { useTransition } from \"@remix-run/react\";\nimport { useState } from \"react\";\n\nexport enum ButtonPaddingOptions {\n  SMALL = \"py-2 lg:py-4\",\n  MEDIUM = \"py-4\",\n}\n\ntype ButtonProps = {\n  children: JSX.Element | JSX.Element[] | string;\n  padding?: ButtonPaddingOptions;\n  variant?:\n    | \"transparent\"\n    | \"red\"\n    | \"green\"\n    | \"hypercolour\"\n    | \"none\"\n    | \"default\";\n} & React.DetailedHTMLProps<\n  React.ButtonHTMLAttributes<HTMLButtonElement>,\n  HTMLButtonElement\n>;\n\nconst Button = ({\n  children,\n  variant,\n  padding = ButtonPaddingOptions.MEDIUM,\n  onClick,\n  ...rest\n}: ButtonProps) => {\n  const variantClassNames =\n    variant === \"transparent\"\n      ? \"text-blue-500 disabled:bg-slate-300 outline outline-blue-500 shadow-md\"\n      : variant === \"red\"\n      ? \"bg-red-500 text-white disabled:bg-red-200 shadow-md\"\n      : variant === \"green\"\n      ? \"bg-green-500 text-white disabled:bg-green-200 shadow-md\"\n      : variant === \"hypercolour\"\n      ? \"background-animate-slow bg-gradient-to-r from-green-500 via-blue-500 to-purple-400 text-white shadow-md\"\n      : variant === \"none\"\n      ? \"\"\n      : \"bg-orange-500 text-stone-200 disabled:bg-orange-200 shadow-md\";\n\n  const transition = useTransition();\n\n  const { state } = transition;\n  const [clicked, setCliced] = useState(false);\n\n  return (\n    <button\n      onClick={(e) => {\n        setCliced(true);\n        if (onClick) onClick(e);\n      }}\n      {...rest}\n      className={`w-full rounded-md px-2 font-semibold  ${variantClassNames} ${padding} ${\n        state === \"loading\" && clicked && \"opacity-50\"\n      }`}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n", "import { Link, useLocation } from \"@remix-run/react\";\nimport { useRef, useState } from \"react\";\nimport { BsBarChartFill } from \"react-icons/bs\";\nimport { GiHamburgerMenu } from \"react-icons/gi\";\nimport { IoMdClose } from \"react-icons/io\";\nimport { MdPersonOutline } from \"react-icons/md\";\nimport { isPremium } from \"~/utils\";\nimport { useOutsideAlerter } from \"~/utils/hooks\";\nimport { UserProfile } from \"~/utils/types\";\nimport Button, { ButtonPaddingOptions } from \"./core/Buttons\";\nimport { PremiumLink } from \"./home/PremiumLink\";\n\nconst ICON_SIZE = 25;\n\nconst Header = ({ user }: { user: UserProfile | undefined }) => {\n  const isLoggedIn = Boolean(user);\n  const showPremium = !isPremium(user);\n\n  const [menuOpen, setMenuOpen] = useState(false);\n\n  const location = useLocation();\n  const fixHeader = location?.pathname === \"/\";\n  const showStreakBar = user;\n\n  return (\n    <div\n      className={`flex w-full flex-col ${\n        fixHeader && \"sticky top-0 w-full\"\n      } mb-8`}\n    >\n      <div\n        className={`relative top-0 z-30 flex w-full items-center gap-4 bg-orange-200 p-4 lg:justify-between lg:px-10  ${\n          !showStreakBar && \"shadow-md\"\n        }`}\n      >\n        <>\n          <GiHamburgerMenu\n            size=\"25\"\n            className=\"cursor-pointer fill-slate-800 lg:hidden\"\n            onClick={() => setMenuOpen(true)}\n          />\n\n          <div className=\"absolute left-0 top-0 flex w-full items-center justify-center lg:relative lg:w-fit\">\n            <Home user={user} />\n          </div>\n\n          <MainMenus\n            isLoggedIn={isLoggedIn}\n            setMenuOpen={setMenuOpen}\n            showPremium={showPremium}\n          />\n        </>\n\n        {menuOpen && (\n          <>\n            <div className=\"fixed top-0 z-50\">\n              <BurgerMenu\n                showPremium={showPremium}\n                setMenuOpen={setMenuOpen}\n                isLoggedIn={isLoggedIn}\n                user={user}\n              />\n            </div>\n\n            <div className=\"fixed top-0 z-40 h-screen w-screen bg-slate-800 bg-opacity-75\" />\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst MainMenus = ({\n  isLoggedIn,\n  setMenuOpen,\n  showPremium,\n}: {\n  isLoggedIn: boolean;\n  setMenuOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  showPremium: boolean;\n}) => {\n  return (\n    <div className=\"flex items-center gap-3\">\n      {isLoggedIn ? (\n        <>\n          {\n            <div className=\"flex items-center gap-3\">\n              <Button>New chat</Button>\n            </div>\n          }\n        </>\n      ) : (\n        <>\n          <div className=\"hidden items-center gap-4 lg:flex\">\n            <HeaderLink to=\"pricing\" text=\"Pricing\" />\n            <HeaderLink to=\"login\" text=\"Login\" />\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\ntype BurgerMenuProps = {\n  showPremium: Boolean;\n  setMenuOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  isLoggedIn: boolean;\n  user?: UserProfile;\n};\n\nconst BurgerMenu = ({\n  showPremium,\n  setMenuOpen,\n  isLoggedIn,\n  user,\n}: BurgerMenuProps) => {\n  const wrapperRef = useRef(null);\n  useOutsideAlerter(wrapperRef, () => setMenuOpen(false));\n\n  const closeMenu = () => setMenuOpen(false);\n\n  return (\n    <div\n      ref={wrapperRef}\n      className=\"absolute left-0 top-0 h-screen w-1/3 min-w-[300px] bg-slate-200\"\n    >\n      <div className=\"relative flex h-20 w-full items-center justify-between border-b border-slate-400 px-4\">\n        <Home onClick={closeMenu} user={user} withBackground />\n\n        <button onClick={() => setMenuOpen(false)}>\n          <IoMdClose className=\"fill-slate-400\" size=\"30\" />\n        </button>\n      </div>\n\n      <div className=\"mt-10 flex flex-col gap-4 px-4\">\n        {isLoggedIn ? (\n          <>\n            {<ProfileLink setMenuOpen={setMenuOpen} />}\n\n            {showPremium && <PremiumLink setMenuOpen={setMenuOpen} />}\n          </>\n        ) : (\n          <>\n            <TransparentButtonLink\n              to=\"pricing\"\n              text=\"Pricing\"\n              onClick={closeMenu}\n            />\n            <TransparentButtonLink\n              to=\"login\"\n              text=\"Login\"\n              onClick={closeMenu}\n            />\n            <GetStartedLink\n              setMenuOpen={setMenuOpen}\n              fullWidth\n              padding={ButtonPaddingOptions.MEDIUM}\n            />\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\ntype LinkProps = {\n  setMenuOpen?: (value: boolean) => void;\n  hideButton?: boolean;\n  fullWidth?: boolean;\n};\n\nconst ICON_GAP = \"gap-1\";\n\nconst ScenariosLinkNavbar = ({ setMenuOpen = () => {} }: LinkProps) => {\n  return (\n    <Link to=\"/dashboard\" onClick={() => setMenuOpen(false)}>\n      <Button>\n        <div className={`flex items-center justify-center ${ICON_GAP}`}>\n          Dashboard\n        </div>\n      </Button>\n    </Link>\n  );\n};\n\nconst ScenariosLink = ({ setMenuOpen = () => {} }: LinkProps) => {\n  return (\n    <Link to=\"/dashboard\" onClick={() => setMenuOpen(false)}>\n      <Button>\n        <div\n          className={`mx-auto flex w-2/3 items-center justify-between ${ICON_GAP}`}\n        >\n          Dashboard\n        </div>\n      </Button>\n    </Link>\n  );\n};\n\nconst VocabularyLink = ({ setMenuOpen = () => {} }: LinkProps) => {\n  return (\n    <Link to=\"/profile/vocabulary\" onClick={() => setMenuOpen(false)}>\n      <Button>\n        <div\n          className={`mx-auto flex w-2/3 items-center justify-between ${ICON_GAP}`}\n        >\n          Vocabulary\n          <BsBarChartFill size={ICON_SIZE} />\n        </div>\n      </Button>\n    </Link>\n  );\n};\n\nconst Home = ({\n  onClick,\n  user,\n  withBackground = false,\n}: {\n  onClick?: () => void;\n  user: UserProfile | null | undefined;\n  withBackground?: boolean;\n}) => {\n  return (\n    <Link\n      onClick={onClick}\n      to={`${user ? \"/dashboard\" : \"/\"} `}\n      className=\"flex h-14 items-center justify-center gap-2 text-2xl font-bold text-slate-800\"\n    >\n      <img\n        src={withBackground ? \"/logo.png\" : \"/logo-blank.png\"}\n        loading=\"eager\"\n        className={`w-auto  rounded ${withBackground ? \"h-10\" : \"h-8\"}`}\n      />\n    </Link>\n  );\n};\n\nconst ProfileLink = ({ setMenuOpen = () => {}, hideButton }: LinkProps) => {\n  if (hideButton)\n    return (\n      <Link to=\"/profile\" onClick={() => setMenuOpen(false)}>\n        <MdPersonOutline\n          size={30}\n          className=\"rounded-3xl border-2 border-blue-800 fill-blue-800\"\n        />\n      </Link>\n    );\n\n  return (\n    <Link to=\"/profile\" onClick={() => setMenuOpen(false)}>\n      <Button>\n        <div\n          className={`mx-auto flex w-2/3 items-center justify-between ${ICON_GAP}`}\n        >\n          Profile\n          <MdPersonOutline\n            size={30}\n            className=\"rounded-3xl border-2 border-slate-50 fill-slate-50\"\n          />\n        </div>\n      </Button>\n    </Link>\n  );\n};\n\nconst GetStartedLink = ({\n  setMenuOpen = () => {},\n  fullWidth,\n  padding = ButtonPaddingOptions.SMALL,\n}: LinkProps & { padding?: ButtonPaddingOptions }) => {\n  const location = useLocation();\n  const qs = new URLSearchParams(location.search);\n  const trial = qs.get(\"trial\");\n\n  return (\n    <Link\n      key=\"header\"\n      to={trial ? \"/pricing?trial=true\" : \"/dashboard\"}\n      onClick={() => setMenuOpen(false)}\n      className=\"transition-all duration-200 ease-in-out hover:scale-105\"\n    >\n      <Button padding={padding} variant=\"hypercolour\">\n        <div\n          className={`mx-auto flex w-full items-center ${\n            fullWidth ? \"w-full justify-center\" : \"w-2/3 justify-between\"\n          } ${ICON_GAP}`}\n        >\n          {trial ? \"Start free trial\" : \"Get started\"}\n        </div>\n      </Button>\n    </Link>\n  );\n};\n\nconst HeaderLink = ({ to, text }: { to: string; text: string }) => {\n  return (\n    <Link\n      to={to}\n      className=\"z-10 cursor-pointer rounded-md px-2 py-1 text-lg font-semibold text-gray-800 transition-all duration-200 ease-in-out hover:bg-gray-600 hover:bg-opacity-10\"\n    >\n      {text}\n    </Link>\n  );\n};\n\nconst TransparentButtonLink = ({\n  onClick,\n  text,\n  to,\n}: {\n  onClick: () => void;\n  to: string;\n  text: string;\n}) => {\n  return (\n    <Link\n      onClick={onClick}\n      to={to}\n      className=\"text-lg font-semibold text-blue-800\"\n    >\n      <Button variant=\"transparent\">\n        <span className=\"px-5\">{text}</span>\n      </Button>\n    </Link>\n  );\n};\n\nexport default Header;\n", "import { DynamicScenario, Mode, UserProfile } from \"./types\";\n\nexport const getRandomIndexOfArray = (array: any[]): number =>\n  Math.max(Math.round(Math.random() * array.length) - 1, 0);\n\nexport function getTokenCost(tokens: number, model: string) {\n  if (model === \"text-curie-001\") return Math.round(tokens * 0.1);\n\n  return tokens;\n}\n\nexport function removePunctuationFromStringArray(string: string[]) {\n  return string.map((word) =>\n    word.replace(/[.,\\/#!$?%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n  );\n}\n\nexport function removePunctuationFromString(string: string) {\n  return string.replace(/[.,\\/#!$?%\\^&\\*;:{}=\\-_`~()]/g, \"\");\n}\n\nexport const DAYS_PER_MONTH = 30;\n\nexport function isPremium(user?: UserProfile | null) {\n  return Boolean(user && user.customer_number);\n}\n\nexport function isGuest(user?: UserProfile | null) {\n  if (!user?.email || user.email === \"\") return true;\n  return false;\n}\n\nexport function isBetaTester(user?: UserProfile | null) {\n  return Boolean(user && user.beta_tester);\n}\n\nexport function hasGuidedScenario(scenario: DynamicScenario) {\n  return Boolean(scenario.description);\n}\nexport function hasFreeRoamScenario(scenario: DynamicScenario) {\n  return Boolean(scenario.free_roam);\n}\n\nexport function hasMode(scenario: DynamicScenario, mode: Mode) {\n  if (mode === \"guided\") return hasGuidedScenario(scenario);\n\n  if (mode === \"free-roam\") return hasFreeRoamScenario(scenario);\n}\n\nexport enum GEMS_REWARDS {\n  MESSAGE = 2,\n  SCENARIO = 5,\n  NEW_SCENARIO = 10,\n}\n\nexport function shuffleArray(array: any[]) {\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n\n  return array;\n}\n", "import { useMatches } from \"@remix-run/react\";\nimport { useEffect } from \"react\";\nimport { ProfileLoaderData } from \"~/routes/profile\";\nimport { RootLoaderData } from \"~/root\";\n\nexport function useOutsideAlerter(ref: any, onOutsideClick: Function) {\n  useEffect(() => {\n    function handleClickOutside(event: any) {\n      if (ref.current && !ref.current.contains(event.target)) {\n        onOutsideClick();\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [ref]);\n}\n\nexport function useRootData() {\n  const matches = useMatches();\n  const rootMatch = matches.find((root) => root.id === \"root\");\n\n  if (!rootMatch) return null;\n\n  return rootMatch.data as RootLoaderData;\n}\n\nexport function useProfileLoaderData() {\n  const matches = useMatches();\n  const profileMatch = matches.find((root) => root.id === \"routes/profile\");\n\n  if (!profileMatch) return null;\n\n  return profileMatch.data as ProfileLoaderData;\n}\n", "import { Link } from \"@remix-run/react\";\nimport { IoIosRocket } from \"react-icons/io\";\nimport Button from \"../core/Buttons\";\n\ntype LinkProps = {\n  setMenuOpen?: (value: boolean) => void;\n  hideButton?: boolean;\n  fullWidth?: boolean;\n\n  iconSize?: number;\n};\n\nexport const PremiumLink = ({\n  setMenuOpen = () => {},\n  fullWidth,\n  iconSize = 24,\n}: LinkProps) => {\n  return (\n    <Link to=\"/pricing\" onClick={() => setMenuOpen(false)}>\n      <Button variant=\"hypercolour\">\n        <div\n          className={`mx-auto flex ${\n            fullWidth ? \"w-full\" : \"w-2/3\"\n          } items-center justify-between gap-2`}\n        >\n          Go Premium\n          <IoIosRocket size={iconSize} />\n        </div>\n      </Button>\n    </Link>\n  );\n};\n", "import { useLocation } from \"@remix-run/react\";\nimport { useEffect } from \"react\";\n\nconst GoogleTagManager = ({\n  env,\n  gtmTrackingId,\n}: {\n  env: \"production\" | \"development\" | \"test\";\n  gtmTrackingId: string | undefined;\n}) => {\n  const location = useLocation();\n\n  useEffect(() => {\n    if (env !== \"development\" && gtmTrackingId?.length) {\n      const gtmScript = document.createElement(\"script\");\n\n      gtmScript.innerHTML = `\n        (function(w, d, s, l, i) {\n          w[l] = w[l] || [];\n          w[l].push({\n              'gtm.start': new Date().getTime(),\n              event: 'gtm.js'\n          });\n          var f = d.getElementsByTagName(s)[0],\n              j = d.createElement(s),\n              dl = l != 'dataLayer' ? '&l=' + l : '';\n          j.async = true;\n          j.src =\n              'https://www.googletagmanager.com/gtm.js?id=' + i + dl;\n          f.parentNode.insertBefore(j, f);\n        })(window, document, 'script', 'dataLayer', '${gtmTrackingId}');`;\n\n      document.head.appendChild(gtmScript);\n\n      return () => {\n        document.head.removeChild(gtmScript);\n      };\n    }\n  }, [location, gtmTrackingId]);\n\n  useEffect(() => {\n    window.dataLayer?.push({\n      event: \"VirtualPageView\",\n    });\n  }, [location.pathname]);\n\n  return env === \"development\" || !gtmTrackingId ? null : (\n    <>\n      <noscript>\n        <iframe\n          src={`https://www.googletagmanager.com/ns.html?id=${gtmTrackingId}`}\n          height=\"0\"\n          width=\"0\"\n          style={{ display: \"none\", visibility: \"hidden\" }}\n        />\n      </noscript>\n    </>\n  );\n};\n\nexport default GoogleTagManager;\n", "//@ts-nocheck\n\nexport function setupHotjar() {\n  (function (h, o, t, j, a, r) {\n    h.hj =\n      h.hj ||\n      function () {\n        (h.hj.q = h.hj.q || []).push(arguments);\n      };\n    h._hjSettings = { hjid: 3303988, hjsv: 6 };\n    a = o.getElementsByTagName(\"head\")[0];\n    r = o.createElement(\"script\");\n    r.async = 1;\n    r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;\n    a.appendChild(r);\n  })(window, document, \"https://static.hotjar.com/c/hotjar-\", \".js?sv=\");\n}\n", "import { ActionFunction, json } from \"@remix-run/node\";\nimport { updateUserProfile } from \"~/utils/db.server\";\nimport { sendWelcomeEmail } from \"~/utils/emails.server\";\nimport { SUBSCRIBED_USER_MESSAGES } from \"~/utils/payment\";\nimport { getUserSession } from \"~/utils/session.server\";\n\nexport const action: ActionFunction = async ({ request }) => {\n  const userToken = await getUserSession(request);\n\n  if (!userToken) return json({}, { status: 500 });\n\n  const formData = await request.formData();\n  const email = (formData.get(\"email\") as string) ?? \"\";\n\n  updateUserProfile(userToken?.uid, {\n    email: email,\n    messages: SUBSCRIBED_USER_MESSAGES.free,\n  });\n  sendWelcomeEmail(email);\n\n  return json({ success: true });\n};\n", "import { firestore } from \"firebase-admin\";\nimport { db } from \"~/services/db.server\";\nimport { NEW_PROFILE_TOKENS, SUBSCRIBED_USER_MESSAGES } from \"./payment\";\nimport { UserProfile } from \"./types\";\n\nconst usersRef = db.collection(\"users\");\n\nexport async function getUserTokens(uid: string) {\n  const userProfile = await getUserProfile(uid);\n\n  if (!userProfile) return null;\n\n  return userProfile.tokens;\n}\n\nexport async function getAllUsers() {\n  const snapshot = await usersRef.get();\n  const users: any[] = [];\n\n  snapshot.forEach((doc) => {\n    users.push({ id: doc.id, ...doc.data() });\n  });\n\n  return users;\n}\n\nexport async function getUserProfile(uid: string) {\n  const doc = await usersRef.doc(uid).get();\n\n  if (!doc.exists) return null;\n\n  return doc.data() as UserProfile | undefined;\n}\n\nexport async function getUserProfileByCustomerNumber(\n  customerNumber: string\n): Promise<UserProfile> {\n  const docs = await usersRef\n    .limit(1)\n    .where(\"customer_number\", \"==\", customerNumber)\n    .get();\n\n  let doc: UserProfile[] = [];\n\n  docs.forEach((currenctDoc) => {\n    doc.push(currenctDoc.data() as UserProfile);\n  });\n\n  return doc[0];\n}\n\nexport async function createNewProfile(\n  email: string,\n  uid: string,\n  marketing_emails: boolean,\n  referrer: string\n) {\n  const writeResult = await usersRef.doc(uid).set(\n    {\n      created_at: firestore.Timestamp.now(),\n      tokens: NEW_PROFILE_TOKENS,\n      messages:\n        email === \"\"\n          ? SUBSCRIBED_USER_MESSAGES.guest\n          : SUBSCRIBED_USER_MESSAGES.free,\n      email,\n      uid,\n      marketing_emails,\n      referrer,\n    },\n    { merge: true }\n  );\n\n  if (!writeResult) throw Error(\"failed to create user profile\");\n\n  return;\n}\n\nexport async function updateUserProfile(\n  uid: string,\n  newUserProfileData: {\n    email?: string;\n    tokens?: number;\n    messages?: number;\n    customer_number?: string;\n    marketing_emails?: boolean;\n    last_login?: Date;\n    gems?: number | firestore.FieldValue;\n    streak?: number;\n    completed_scenarios?: string[];\n    streak_last_updated?: Date;\n    completed_lessons?: UserProfile[\"completed_lessons\"];\n    in_progress_lessons?: UserProfile[\"in_progress_lessons\"];\n  }\n) {\n  usersRef.doc(uid).set(newUserProfileData, { merge: true });\n}\n", "import admin, { AppOptions } from \"firebase-admin\";\nimport { initializeApp as initializeAdminApp } from \"firebase-admin/app\";\nimport { initializeApp } from \"firebase/app\";\n\nif (!admin.apps.length) {\n  const config: AppOptions = {\n    credential: admin.credential.cert({\n      projectId: process.env.FIREBASE_ADMIN_PROJECT_ID,\n      clientEmail: process.env.FIREBASE_ADMIN_CLIENT_EMAIL,\n      privateKey: process.env.FIREBASE_ADMIN_PRIVATE_KEY?.replace(/\\\\n/g, \"\\n\"),\n    }),\n    databaseURL: process.env.FIREBASE_DATABASE_URL,\n  };\n\n  initializeAdminApp(config);\n}\n\nconst db = admin.firestore();\nconst adminAuth = admin.auth();\n\nlet Firebase: any;\n\nif (!Firebase?.apps?.length) {\n  const firebaseConfig = {\n    apiKey: process.env.FIREBASE_KEY,\n    authDomain: \"audiomate.firebaseapp.com\",\n    projectId: \"audiomate\",\n    storageBucket: \"audiomate.appspot.com\",\n    messagingSenderId: \"768929423248\",\n    appId: \"1:768929423248:web:8d0f7a3e2617c1ea62dd15\",\n    measurementId: \"G-046G6QMKSH\",\n  };\n\n  Firebase = initializeApp(firebaseConfig);\n}\n\nexport { db, adminAuth };\n", "import { DAYS_PER_MONTH } from \".\";\n\nexport const NEW_PROFILE_TOKENS = 20000;\n\nexport enum Plan {\n  pro = \"pro\",\n  accelerated = \"accelerated\",\n  ultimate = \"ultimate\",\n}\n\nexport enum Prices {\n  pro = 6.99,\n  accelerated = 14.99,\n  ultimate = 29.99,\n}\n\nexport const SUBSCRIBED_USER_MESSAGES = {\n  guest: 25,\n  free: 50,\n  pro: 1000,\n  accelerated: 3000,\n  ultimate: 10000,\n};\n\nexport const SUBSCRIBED_USER_TOKENS = {\n  pro: 100000,\n  accelerated: 200000,\n  ultimate: 500000,\n};\n\nexport const freePlan = {\n  id: \"free\",\n  title: \"Free\",\n  price: 0,\n  features: [`10 daily AI-powered messages`, \"Limited translations\"],\n  not_features: [\n    \"Vocabulary tracking\",\n    \"Unlimited message corrections\",\n    \"Unlimited speaking practice\",\n    \"Unlimited listening practice\",\n    \"Immerse yourself in ultra-realistic audio\",\n    \"Get word definitions\",\n  ],\n};\n\nexport const plans = [\n  {\n    id: \"pro\",\n    title: \"Pro\",\n    price: Prices.pro,\n    features: [\n      `30 daily AI-powered messages`,\n      \"Unlimited translations\",\n      \"Get word definitions\",\n      \"Unlimited message corrections\",\n      \"Unlimited listening practice\",\n    ],\n    not_features: [\n      \"Unlimited speaking practice\",\n      \"Vocabulary tracking\",\n      \"Immerse yourself in ultra-realistic audio\",\n    ],\n  },\n  {\n    id: \"accelerated\",\n    title: \"Accelerated\",\n    price: Prices.accelerated,\n    features: [\n      `100 daily AI-powered messages`,\n      \"Unlimited translations\",\n      \"Vocabulary tracking\",\n      \"Get word definitions\",\n      \"Unlimited message corrections\",\n      \"Unlimited speaking practice\",\n      \"Unlimited listening practice\",\n      \"Immerse yourself in ultra-realistic audio\",\n    ],\n    most_popular: true,\n  },\n  {\n    id: \"ultimate\",\n    title: \"Ultimate\",\n    price: Prices.ultimate,\n    features: [\n      `Unlimited AI-powered messages`,\n      \"Unlimited translations\",\n      \"Vocabulary tracking\",\n      \"Get word definitions\",\n      \"Unlimited message corrections\",\n      \"Unlimited speaking practice\",\n      \"Unlimited listening practice\",\n      \"Immerse yourself in ultra-realistic audio\",\n    ],\n  },\n];\n\nexport function getEstimatedConversations(tokens: number) {\n  const AVERAGE_TOKENS_PER_SCENARIO = 1000;\n\n  const expectedConversations = tokens / AVERAGE_TOKENS_PER_SCENARIO;\n\n  return Math.round(expectedConversations);\n}\n\nexport function getEstimatedConversationsPerDay(tokens: number) {\n  const expectedConversations =\n    getEstimatedConversations(tokens) / DAYS_PER_MONTH;\n  return expectedConversations.toFixed(1);\n}\n", "export enum EMAIL_EVENTS {\n  \"create_account\" = \"create_account\",\n  \"dracula\" = \"dracula\",\n}\n\nexport function sendWelcomeEmail(email: string) {\n  return sendPlunkEvent(email, EMAIL_EVENTS.create_account);\n}\n\nexport function sendDraculaEmail(email: string) {\n  return sendPlunkEvent(email, EMAIL_EVENTS.dracula);\n}\n\nfunction sendPlunkEvent(email: string, event: EMAIL_EVENTS) {\n  const EMAIL_API_KEY = process.env.PLUNK_SECRET_API_KEY;\n\n  if (!EMAIL_API_KEY) {\n    console.log(\"No email API key\");\n    return;\n  }\n\n  return fetch(\"https://api.useplunk.com/v1/track\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${EMAIL_API_KEY}`,\n    },\n    body: JSON.stringify({ event, email }),\n  });\n}\n", "import { createCookieSessionStorage, redirect } from \"@remix-run/node\";\n\nimport { adminAuth } from \"~/services/db.server\";\nimport { getSessionToken, signOutFirebase } from \"~/utils/user.server\";\n\nconst sessionSecret = process.env.SESSION_SECRET;\nif (!sessionSecret) {\n  throw new Error(\"SESSION_SECRET must be set!\");\n}\n\nconst storage = createCookieSessionStorage({\n  cookie: {\n    name: \"__session\",\n    // normally you want this to be `secure: true`\n    // but that doesn't work on localhost for Safari\n    // https://web.dev/when-to-use-local-https/\n    secure: process.env.NODE_ENV === \"production\",\n    secrets: [sessionSecret],\n    sameSite: \"lax\",\n    path: \"/\",\n    maxAge: 60 * 60 * 24 * 30,\n    httpOnly: true,\n  },\n});\n\nasync function createUserSession(idToken: string, redirectTo: string) {\n  const token = await getSessionToken(idToken);\n  const session = await storage.getSession();\n  session.set(\"token\", token);\n\n  return redirect(redirectTo, {\n    headers: {\n      \"Set-Cookie\": await storage.commitSession(session),\n    },\n  });\n}\n\nasync function getUserSession(request: Request) {\n  const cookieSession = await storage.getSession(request.headers.get(\"Cookie\"));\n  const token = cookieSession.get(\"token\");\n  if (!token) return null;\n\n  try {\n    const tokenUser = await adminAuth.verifySessionCookie(token, true);\n    return tokenUser;\n  } catch (error) {\n    return null;\n  }\n}\n\nasync function destroySession(request: Request) {\n  const session = await storage.getSession(request.headers.get(\"Cookie\"));\n  const newCookie = await storage.destroySession(session);\n\n  return redirect(\"/login\", { headers: { \"Set-Cookie\": newCookie } });\n}\n\nasync function signOut(request: Request) {\n  await signOutFirebase();\n  return await destroySession(request);\n}\n\nexport { createUserSession, signOut, getUserSession };\n", "import { UserRecord } from \"firebase-admin/lib/auth/user-record\";\nimport {\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  getAuth,\n  signOut,\n} from \"firebase/auth\";\nimport { adminAuth } from \"../services/db.server\";\nimport { createNewProfile } from \"./db.server\";\nimport { sendWelcomeEmail } from \"./emails.server\";\nimport { Uid } from \"./types\";\n\nasync function signIn(\n  email: string,\n  password: string\n): Promise<{ res?: any; error?: string }> {\n  const auth = getAuth();\n\n  return signInWithEmailAndPassword(auth, email, password)\n    .then((res) => ({ res }))\n    .catch((error) => {\n      if (error?.code === \"auth/user-not-found\") return { error: \"404\" };\n      if (error?.code === \"auth/wrong-password\") return { error: \"401\" };\n\n      return { error: \"500\" };\n    });\n}\n\nasync function signUp(\n  email: string,\n  password: string,\n  hasSetMarketingEmails: boolean,\n  referrer: string\n) {\n  const auth = getAuth();\n  const user = await createUserWithEmailAndPassword(auth, email, password);\n\n  await triggerNewAccountEvents(\n    email,\n    user.user.uid,\n    hasSetMarketingEmails,\n    referrer\n  );\n\n  return user;\n}\n\nexport async function triggerNewAccountEvents(\n  email: string,\n  uid: Uid,\n  hasSetMarketingEmails: boolean,\n  referrer: string\n) {\n  await createNewProfile(email, uid, hasSetMarketingEmails, referrer);\n  if (email) sendWelcomeEmail(email);\n}\n\nasync function getSessionToken(idToken: string) {\n  const decodedToken = await adminAuth.verifyIdToken(idToken);\n\n  if (decodedToken?.provider_id === \"anonymous\")\n    return createSessionCookie(idToken);\n\n  if (new Date().getTime() / 1000 - decodedToken.auth_time > 5 * 60) {\n    throw new Error(\"Recent sign in required\");\n  }\n\n  return createSessionCookie(idToken);\n}\n\nfunction createSessionCookie(idToken: string) {\n  const twoWeeks = 60 * 60 * 24 * 14 * 1000;\n  return adminAuth.createSessionCookie(idToken, { expiresIn: twoWeeks });\n}\n\nasync function signOutFirebase() {\n  await signOut(getAuth());\n}\n\nasync function getCustomClaims(\n  uid: string\n): Promise<UserRecord[\"customClaims\"] | undefined> {\n  const userRecord = await adminAuth.getUser(uid);\n\n  return userRecord.customClaims;\n}\n\nexport async function isAdmin(uid: string): Promise<Boolean> {\n  const customClaims = await getCustomClaims(uid);\n\n  return customClaims?.admin ?? false;\n}\n\nexport { signIn, signUp, getSessionToken, signOutFirebase };\n", "import { ActionFunction, json } from \"@remix-run/node\";\nimport { Stripe } from \"stripe\";\nimport {\n  handleInvoicePaid,\n  handlePaymentIntentSucceeded,\n} from \"~/utils/payment.server\";\n\nexport const action: ActionFunction = async ({ request }) => {\n  const endpointSecret = process.env.STRIPE_WEBHOOK_SECRET;\n  const stripe = require(\"stripe\")(process.env.STRIPE_SECRET_KEY);\n\n  let event: Stripe.Event | null = null;\n\n  const payload = await request.text();\n\n  if (endpointSecret) {\n    const signature = request.headers.get(\"stripe-signature\");\n\n    try {\n      event = await stripe.webhooks.constructEvent(\n        payload,\n        signature,\n        endpointSecret\n      );\n    } catch (err: unknown) {\n      if (err instanceof Error) {\n        console.log(`\u26A0\uFE0F  Webhook signature verification failed.`, err.message);\n\n        return json({}, { status: 400 });\n      }\n\n      return json({}, 500);\n    }\n  }\n\n  switch (event?.type) {\n    case \"payment_intent.succeeded\":\n      const paymentIntent = event.data.object;\n      await handlePaymentIntentSucceeded(paymentIntent as Stripe.PaymentIntent);\n\n      break;\n\n    case \"invoice.paid\":\n      const invoiceData = event.data.object as any;\n      await handleInvoicePaid(invoiceData);\n\n      break;\n    default:\n      console.log(`Unhandled event type ${event?.type}.`);\n  }\n\n  return json({});\n};\n", "import { json, redirect } from \"@remix-run/node\";\nimport Stripe from \"stripe\";\nimport { getUserProfileByCustomerNumber, updateUserProfile } from \"./db.server\";\nimport { Plan, SUBSCRIBED_USER_TOKENS } from \"./payment\";\nimport { Uid } from \"./types\";\n\nconst STRIPE_SECRET_KEY = process.env.STRIPE_SECRET_KEY;\nconst stripe = require(\"stripe\")(STRIPE_SECRET_KEY);\n\nconst priceTiers = {\n  production: {\n    pro: \"price_1MVt9uCcziHGfD7iZznsxpcX\",\n    accelerated: \"price_1MVtABCcziHGfD7i1vzQAgEc\",\n    ultimate: \"price_1Mr2LcCcziHGfD7iUgN5ML4R\",\n  },\n  test: {\n    pro: \"price_1MVt91CcziHGfD7iyQmjA83R\",\n    accelerated: \"price_1MVt9UCcziHGfD7iRCJxZG0r\",\n    ultimate: \"price_1Mr2MZCcziHGfD7iE2efLVPX\",\n  },\n};\n\nexport function getPriceTierId(\n  nodeEnv: \"development\" | \"production\" | \"test\",\n  plan: Plan\n) {\n  if (nodeEnv === \"production\") {\n    return priceTiers.production[plan];\n  }\n\n  return priceTiers.test[plan];\n}\n\nexport async function createCheckout(\n  priceId: string,\n  origin: string,\n  uid: Uid\n) {\n  if (!STRIPE_SECRET_KEY) throw Error();\n\n  try {\n    const session = await stripe.checkout.sessions.create({\n      billing_address_collection: \"auto\",\n      line_items: [{ price: priceId, quantity: 1 }],\n      mode: \"subscription\",\n      allow_promotion_codes: true,\n      success_url: `${origin}/payment/success`,\n      cancel_url: `${origin}/payment/failure`,\n      subscription_data: {\n        trial_period_days: 7,\n        metadata: { client_reference_id: uid },\n      },\n    });\n\n    return redirect(session.url);\n  } catch (err) {\n    console.log(err);\n\n    return json({ error: \"Something went wrong\" });\n  }\n}\n\nexport async function retrieveSubscription(subscriptionId: string) {\n  const subscription = await stripe.subscriptions.retrieve(subscriptionId);\n\n  return subscription;\n}\n\nexport async function handlePaymentIntentSucceeded(\n  paymentIntent: Stripe.PaymentIntent\n) {\n  const customerNumber = paymentIntent.customer;\n  if (!customerNumber) throw Error(\"Customer account not created\");\n\n  const customer = await getUserProfileByCustomerNumber(\n    customerNumber as string\n  );\n  const uid = customer.uid;\n\n  if (!uid) throw Error(\"Could not add tokens to user account\");\n\n  const plan: Plan = Plan.pro; //fixed for now\n\n  return await updateUserProfile(uid, { tokens: SUBSCRIBED_USER_TOKENS[plan] });\n}\n\nexport async function handleInvoicePaid(invoiceData: any) {\n  const subscription = await retrieveSubscription(invoiceData.subscription);\n\n  const customerNumber = invoiceData.customer;\n  const uid = subscription.metadata.client_reference_id;\n\n  return await updateUserProfile(uid, { customer_number: customerNumber });\n}\n", "import { ActionFunction, json } from \"@remix-run/node\";\nimport { generateTextFromInput, getTextFromSpeech } from \"~/models\";\nimport invariant from \"tiny-invariant\";\n\nexport const action: ActionFunction = async ({ request }) => {\n  try {\n    const formData = await request.formData();\n    const audio = formData.get(\"audio\") as Blob;\n    const inputText = formData.get(\"input_text\") as string;\n    const pastText = (formData.get(\"past_text\") ?? \"\") as string;\n\n    if (!audio && !inputText) throw Error(\"Audio or input text required\");\n    const text = audio ? await getTextFromSpeech(audio) : inputText;\n    console.log(text);\n    const generatedResText = await generateTextFromInput(pastText, text);\n    console.log(generatedResText);\n    return json({ text: generatedResText });\n  } catch (e) {\n    console.log(e);\n    return json({ text: \"\", error: e });\n  }\n};\n", "import { ChatCompletionRequestMessage, Configuration, OpenAIApi } from \"openai\";\n\nexport async function getTextFromSpeech(audio: Blob) {\n  enum Errors {\n    DEFAULT = \"Something went wrong\",\n    NO_TEXT = \"We did not detect any words in that audio recording. Make sure your audio device is connected.\",\n  }\n  try {\n    const text = await transcribeAudioDirect(audio);\n\n    if (text === \"\") throw Error(Errors.NO_TEXT);\n\n    if (!text) throw Error(Errors.DEFAULT);\n\n    return text;\n  } catch (e) {\n    console.log(e);\n    throw Error(Errors.DEFAULT);\n  }\n}\n\nasync function transcribeAudioDirect(audio: Blob) {\n  const formData = new FormData();\n\n  formData.append(\"model\", \"whisper-1\");\n  formData.append(\"file\", audio, \"audio.mp3\");\n  formData.append(\"language\", \"en\");\n  const response = await fetch(\n    \"https://api.openai.com/v1/audio/transcriptions\",\n    {\n      body: formData,\n      method: \"post\",\n      headers: {\n        encType: \"multipart/form-data\",\n        Authorization: `Bearer ${process.env.OPENAI_API_KEY}`,\n      },\n    }\n  );\n\n  const data = await response.json();\n  return data.text;\n}\n\nexport async function generateTextFromInput(\n  pastText: string,\n  newUserInput: string\n) {\n  enum Errors {\n    DEFAULT = \"Something went wrong\",\n  }\n  const config = {\n    model: \"gpt-3.5-turbo\",\n    max_tokens: 1000,\n    frequency_penalty: 0.2,\n    presence_penalty: 1,\n    temperature: 0.6,\n    top_p: 1,\n  };\n\n  const configuration = new Configuration({\n    apiKey: process.env.OPENAI_API_KEY,\n  });\n\n  const openai = new OpenAIApi(configuration);\n  const messages: ChatCompletionRequestMessage[] = [\n    {\n      role: \"system\",\n      content:\n        \"Process the instructions and respond. The instructions may refer to or request edits to the next message. Follow the instructions exactly.\",\n    },\n    {\n      role: \"user\",\n      content: `Past content: ${pastText}`,\n    },\n    {\n      role: \"user\",\n      content: `Instructions: ${newUserInput}`,\n    },\n  ];\n  try {\n    const openAiRequest = openai.createChatCompletion({\n      messages,\n      ...config,\n    });\n    const res = (await Promise.race([\n      openAiRequest,\n      new Promise((_, reject) => setTimeout(() => reject(), 15000)),\n    ])) as any;\n    const responseText = res?.data?.choices?.[0].message?.content;\n    return responseText;\n  } catch (e) {\n    console.log(e);\n    return Errors.DEFAULT;\n  }\n}\n", "const Failure = () => {\n  return (\n    <div>\n      <h1>Payment Failed</h1>\n    </div>\n  );\n};\n\nexport default Failure;\n", "const Success = () => {\n  return (\n    <div>\n      <h1>Payment successful</h1>\n      <p>Thank you! You are all ready to go and start learning!</p>\n      <p>\n        Slight apologises that this page is so bare your subscription will help\n        me improve the site\n      </p>\n    </div>\n  );\n};\n\nexport default Success;\n", "import { LoaderFunction, redirect } from \"@remix-run/node\";\nimport { getUserProfile } from \"~/utils/db.server\";\nimport { getUserSession } from \"~/utils/session.server\";\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  const stripe = require(\"stripe\")(process.env.STRIPE_SECRET_KEY);\n  const user = await getUserSession(request);\n  if (!user) return redirect(\"/login\");\n\n  const userProfile = await getUserProfile(user.uid);\n\n  const portalSession = await stripe.billingPortal.sessions.create({\n    customer: userProfile?.customer_number,\n    return_url: request.url,\n  });\n\n  return redirect(portalSession.url, { status: 303 });\n};\n\nconst PaymentDashboard = () => {\n  return (\n    <div>\n      <h1>Payment Dashboard</h1>\n    </div>\n  );\n};\n\nexport default PaymentDashboard;\n", "import { ActionFunction, json } from \"@remix-run/node\";\nimport { getTextFromSpeech } from \"~/models\";\n\nexport const action: ActionFunction = async ({ request }) => {\n  try {\n    // const userToken = await getUserSession(request);\n\n    // if (!userToken?.uid) return redirect(\"/login\");\n\n    // const userProfile = await getUserProfile(userToken.uid);\n    // if (!isPremium(userProfile)) {\n    //   return json({ error: \"You need to be a premium user\", text: \"\" });\n    // }\n\n    const formData = await request.formData();\n    const audio = formData.get(\"audio\") as Blob;\n    const text = await getTextFromSpeech(audio);\n\n    return json({ text });\n  } catch (e) {\n    console.log(e);\n    return json({ error: e, text: \"\" });\n  }\n};\n", "import { LoaderFunction, redirect } from \"@remix-run/node\";\n\nexport const loader: LoaderFunction = () => {\n  return redirect(\"https://share-eu1.hsforms.com/1e0-dQW3vTjaiLcA9jiNRVwfxmeh\");\n};\n\nconst Contact = () => {\n  return (\n    <div>\n      <h1 className=\"my-6 text-3xl font-bold\">Contact us</h1>\n    </div>\n  );\n};\n\nexport default Contact;\n", "import {\n  ActionFunction,\n  json,\n  LoaderFunction,\n  MetaFunction,\n  redirect,\n} from \"@remix-run/node\";\nimport {\n  Form,\n  Link,\n  useActionData,\n  useFetcher,\n  useLocation,\n} from \"@remix-run/react\";\nimport { useEffect, useState } from \"react\";\nimport Button from \"~/components/core/Buttons\";\n\nimport ErrorMessage from \"~/components/core/ErrorMessage\";\nimport MainFeatureBulletPoints from \"~/components/landing-page/MainFeaturesBulletPoint\";\nimport BulletPoint from \"~/components/landing-page/SubBulletPoint\";\nimport LoginModal from \"~/components/Modals/LoginModal\";\nimport { useRootData } from \"~/utils/hooks\";\nimport { freePlan, Plan, plans } from \"~/utils/payment\";\nimport { createCheckout, getPriceTierId } from \"~/utils/payment.server\";\nimport { getUserSession } from \"~/utils/session.server\";\n\nexport const meta: MetaFunction = () => {\n  return {\n    title: \"AudioMate | Pricing\",\n  };\n};\n\nexport const action: ActionFunction = async ({ request }) => {\n  try {\n    const userToken = await getUserSession(request);\n    const formData = await request.formData();\n    const plan = formData.get(\"plan\") as Plan | null;\n\n    if (!userToken) {\n      const url = new URL(request.url);\n      const searchParams = new URLSearchParams(url.searchParams);\n\n      if (!searchParams.get(\"login\")) searchParams.append(\"login\", \"true\");\n      if (plan) searchParams.append(\"plan\", plan);\n\n      const newUrl = url.origin + url.pathname + \"?\" + searchParams.toString();\n      return redirect(newUrl);\n    }\n\n    if (!plan) throw Error(\"Something went wrong with pricing data\");\n\n    const priceId = getPriceTierId(process.env.NODE_ENV, plan);\n    const origin = request.url;\n\n    return await createCheckout(priceId, origin as string, userToken.uid);\n  } catch (e: any) {\n    if ((e as Error).message === \"Not logged in\")\n      return json({ error: e?.message }, { status: 401 });\n\n    return json({ error: e?.message }, { status: 500 });\n  }\n};\n\nconst Payment = () => {\n  const actionData = useActionData();\n  const location = useLocation();\n  const query = new URLSearchParams(location.search);\n  const trial = query.get(\"trial\");\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const fetcher = useFetcher();\n  const user = useRootData()?.user;\n\n  useEffect(() => {\n    const login = query.get(\"login\");\n    const removeParams = () => {\n      let newUrl = window.location.pathname;\n      const params = new URLSearchParams(window.location.search);\n      params.delete(\"login\");\n      params.delete(\"plan\");\n      if (params.toString()) newUrl += \"?\" + params.toString();\n      window.history.pushState({ path: newUrl }, \"\", newUrl);\n    };\n\n    if (user && plan && login) {\n      setShowLoginModal(false);\n      removeParams();\n      fetcher.submit({ plan }, { action: \"/pricing\", method: \"post\" });\n      return;\n    }\n\n    if (login) setShowLoginModal(true);\n  }, [location]);\n\n  const plan = query.get(\"plan\");\n\n  return (\n    <div className=\"mb-10 \">\n      <h1 className=\"mb-10 text-center text-3xl font-bold text-blue-800\">\n        Start becoming fluent today\n      </h1>\n\n      {actionData?.error && <ErrorMessage error={actionData?.error} />}\n\n      <Form\n        method=\"post\"\n        className=\"mx-auto flex flex-col items-center justify-center gap-10 text-center\"\n      >\n        <div className=\"flex flex-wrap items-center justify-center gap-4 lg:gap-8\">\n          {!trial && (\n            <HeroPaymentSection\n              title={freePlan.title}\n              id={freePlan.id}\n              price={freePlan.price}\n              features={freePlan.features}\n              notFeatures={freePlan.not_features}\n            />\n          )}\n          {plans.map((plan) => (\n            <HeroPaymentSection\n              key={plan.id}\n              title={plan.title}\n              id={plan.id}\n              price={plan.price}\n              features={plan.features}\n              notFeatures={plan.not_features}\n              mostPopular={plan.most_popular}\n            />\n          ))}\n        </div>\n\n        <div className=\"flex flex-col gap-8\">\n          <h4 className=\"text-xl font-bold text-blue-800\">Our features</h4>\n\n          <MainFeatureBulletPoints />\n\n          <div>\n            <Button type=\"submit\" name=\"plan\" value={plans[0].id}>\n              Start your 7-day free trial\n            </Button>\n          </div>\n        </div>\n      </Form>\n\n      {showLoginModal && (\n        <LoginModal\n          variant=\"pricing\"\n          open={showLoginModal}\n          onClose={() => setShowLoginModal(false)}\n          redirect={location.pathname + location.search}\n        />\n      )}\n    </div>\n  );\n};\n\nconst ColouredBackground = () => {\n  return (\n    <div className=\"absolute -z-10 h-full w-full rounded-md bg-gradient-to-tr from-green-300 via-blue-500 to-purple-600 blur-sm\" />\n  );\n};\n\nconst HeroPaymentSection = ({\n  title,\n  id,\n  price,\n  features,\n  notFeatures,\n  mostPopular,\n}: {\n  title: string;\n  id: string;\n  price: number;\n  features: string[];\n  mostPopular?: boolean;\n  notFeatures?: string[];\n}) => {\n  return (\n    <div className=\"relative flex flex-col items-center justify-center gap-16 rounded-md bg-slate-100 p-6 shadow-lg\">\n      <div className=\"flex flex-col gap-6\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-blue-800\">{title} Plan</h2>\n          <h3 className=\"flex items-center justify-center gap-1 text-lg font-semibold text-blue-800\">\n            \u00A3{price}\n            {mostPopular ? (\n              <span className=\"font-semibold text-purple-600\">\n                (most popular)\n              </span>\n            ) : (\n              \"\"\n            )}\n          </h3>\n        </div>\n\n        <div className=\"flex flex-col gap-2\">\n          <>\n            {features.map((feature, index) => (\n              <BulletPoint bold={index === 0} key={feature} point={feature} />\n            ))}\n          </>\n          {notFeatures &&\n            notFeatures.map((feature) => (\n              <BulletPoint key={feature} point={feature} excluded />\n            ))}\n        </div>\n      </div>\n\n      <div className=\"flex items-center justify-center\">\n        {price > 0 ? (\n          <Button type=\"submit\" name=\"plan\" value={id}>\n            Start your 7-day free trial\n          </Button>\n        ) : (\n          <Link to=\"/login\">\n            <Button>Get started</Button>\n          </Link>\n        )}\n      </div>\n\n      <ColouredBackground />\n    </div>\n  );\n};\n\nexport default Payment;\n", "import { BiErrorCircle } from \"react-icons/bi\";\n\ntype ErrorMessageProps = { error: string };\n\nconst ErrorMessage = ({ error }: ErrorMessageProps) => {\n  return (\n    <p className=\"flex items-center justify-start gap-2 rounded bg-red-200 px-4 py-2 font-semibold text-black shadow-md\">\n      <BiErrorCircle size=\"25\" className=\"flex-shrink-0 fill-red-900\" />\n      {error}\n    </p>\n  );\n};\n\nexport default ErrorMessage;\n", "import { AiOutlineEdit, AiOutlineShop } from \"react-icons/ai\";\nimport { BsBarChartFill, BsTranslate } from \"react-icons/bs\";\nimport { IoReader } from \"react-icons/io5\";\nimport { MdQuiz } from \"react-icons/md\";\nimport { TbSpeakerphone } from \"react-icons/tb\";\nimport FeatureBulletPoint from \"./FeatureBulletPoint\";\n\nconst MainFeatureBulletPoints = () => {\n  return (\n    <div className=\"mx-auto grid w-full max-w-5xl grid-cols-1 gap-10 text-left sm:grid-cols-2 md:gap-12 xl:gap-16\">\n      <FeatureBulletPoint\n        Icon={BsTranslate}\n        title=\"Translate sentences instantly\"\n        paragraph=\"Translation any message into your native language\"\n      />\n\n      <FeatureBulletPoint\n        Icon={AiOutlineEdit}\n        title=\"Improve your grammar\"\n        paragraph=\"Generate corrections & improve your your understanding of your target language\"\n      />\n\n      <FeatureBulletPoint\n        Icon={TbSpeakerphone}\n        hideFill\n        title=\"Speak in your target language\"\n        paragraph=\"Use advanced speech recognition AI to speak in your target language\"\n      />\n\n      <FeatureBulletPoint\n        Icon={BsBarChartFill}\n        title=\"Grow your vocabulary\"\n        paragraph=\"Practise conversations with LanguageMate in an anxiety-free\n        environment\"\n      />\n\n      <FeatureBulletPoint\n        Icon={AiOutlineShop}\n        title=\"Real World Immersion\"\n        paragraph=\"Experience life as it happens through scenarios\"\n      />\n    </div>\n  );\n};\n\nexport default MainFeatureBulletPoints;\n", "const IconWrapper = ({ Icon }: { Icon: React.ElementType }) => {\n  return (\n    <div className=\"flex h-16 w-16 items-center justify-center rounded-md border border-gray-200 bg-gray-50 shadow-sm\">\n      <Icon />\n    </div>\n  );\n};\n\nexport default IconWrapper;\n", "import { IconType } from \"react-icons\";\nimport IconWrapper from \"./IconWrapper\";\n\nconst FeatureBulletPoint = ({\n  Icon,\n  hideFill,\n  title,\n  paragraph,\n}: {\n  Icon?: IconType;\n  hideFill?: boolean;\n  title: string;\n  paragraph?: string;\n}) => {\n  return (\n    <div className=\"flex gap-2\">\n      {Icon && (\n        <IconWrapper\n          Icon={() => (\n            <Icon\n              size={30}\n              className={`${hideFill ? \"\" : \"fill-blue-800\"} stroke-blue-800`}\n            />\n          )}\n        />\n      )}\n      <div className=\"flex flex-1 flex-col justify-start gap-2\">\n        <h4 className=\"text-lg font-bold\">{title}</h4>\n        <p>{paragraph}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default FeatureBulletPoint;\n", "import { AiOutlineEdit } from \"react-icons/ai\";\nimport { BiPlus } from \"react-icons/bi\";\nconst BulletPoint = ({\n  point,\n  excluded,\n  bold,\n}: {\n  point: string;\n  excluded?: boolean;\n  bold?: boolean;\n}) => {\n  return (\n    <p\n      className={`flex items-center justify-start gap-4 text-left ${\n        excluded ? \"text-slate-400\" : \"text-slate-700\"\n      } ${bold ? \"font-semibold\" : \"font-normal\"}`}\n    >\n      {excluded ? (\n        <BiPlus size={25} className=\"rotate-45 text-red-400\" />\n      ) : (\n        <AiOutlineEdit size={25} className=\"fill-blue-500\" />\n      )}\n      {point}\n    </p>\n  );\n};\n\nexport default BulletPoint;\n", "import * as Dialog from \"@radix-ui/react-dialog\";\nimport { useFetcher } from \"@remix-run/react\";\nimport {\n  GoogleAuthProvider,\n  linkWithPopup,\n  signInAnonymously,\n  signInWithPopup,\n} from \"firebase/auth\";\nimport { useEffect, useState } from \"react\";\nimport GoogleButton from \"react-google-button\";\nimport { IoMdClose } from \"react-icons/io\";\nimport { createAccount } from \"~/routes/login\";\n\nimport { clientAuth } from \"~/services/firebase\";\nimport { useRootData } from \"~/utils/hooks\";\nimport { SUBSCRIBED_USER_MESSAGES } from \"~/utils/payment\";\nimport { UserProfile } from \"~/utils/types\";\nimport ErrorMessage from \"../core/ErrorMessage\";\nimport BulletPoint from \"../landing-page/SubBulletPoint\";\n\nconst LoginModal = ({\n  open,\n  onClose,\n  redirect,\n  variant = \"default\",\n}: {\n  open: boolean;\n  onClose: (open: boolean) => void;\n  variant?: \"default\" | \"pricing\";\n  redirect?: string;\n}) => {\n  const fetcher = useFetcher();\n  const [error, setError] = useState(\"\");\n  const user = useRootData()?.user;\n  const [referrer, setReferrer] = useState(\"\");\n\n  useEffect(() => {\n    setReferrer(document.referrer);\n  }, []);\n\n  useEffect(() => {\n    if (fetcher.data?.success) window.location.reload();\n  }, [fetcher]);\n\n  const handleGoogleLogin = (user: UserProfile | undefined) => {\n    if (user) linkGuestWithGoogleAccount();\n    else loginWithGoogle();\n  };\n\n  function loginWithGoogle() {\n    const provider = new GoogleAuthProvider();\n\n    signInWithPopup(clientAuth, provider)\n      .then((userCredentials) =>\n        createAccount({\n          userCredentials,\n          fetcher,\n          marketingEmails: true,\n          referrer,\n          redirect,\n        })\n      )\n      .catch((e) => console.log(e));\n  }\n\n  function linkGuestWithGoogleAccount() {\n    const provider = new GoogleAuthProvider();\n    signInAnonymously(clientAuth).then((usercred) => {\n      const user = usercred.user;\n\n      linkWithPopup(user, provider)\n        .then(() => {\n          fetcher.submit(\n            { email: user.email ?? \"\" },\n            { method: \"post\", action: \"/api/login/link-guest-account\" }\n          );\n        })\n        .catch((e) => {\n          const duplicateAccount =\n            \"Firebase: Error (auth/credential-already-in-use).\";\n          const duplicateAccountMsg =\n            \"This Google account is already linked to another account. Please login with that account or use a different Google account.\";\n          if (e?.message === duplicateAccount)\n            return setError(duplicateAccountMsg);\n\n          setError(\"Something went wrong\");\n        });\n    });\n  }\n\n  return (\n    <Dialog.Root open={open} onOpenChange={onClose}>\n      <Dialog.Portal>\n        <Dialog.Overlay className=\"fixed inset-0 bg-slate-500 opacity-30\" />\n        <Dialog.Content className=\"fixed top-[50%] left-[50%] flex w-[90vw] max-w-xl translate-x-[-50%] translate-y-[-50%] flex-col gap-8 rounded-lg bg-white py-10 px-6\">\n          {variant === \"default\" && (\n            <DefaultContent\n              handleGoogleLogin={handleGoogleLogin}\n              error={error}\n              user={user}\n            />\n          )}\n          {variant === \"pricing\" && (\n            <PricingContent\n              handleGoogleLogin={handleGoogleLogin}\n              error={error}\n              user={user}\n            />\n          )}\n          <Dialog.Close asChild className=\"absolute top-2 right-2 \">\n            <button aria-label=\"Close\">\n              <IoMdClose className=\"fill-slate-400\" size=\"30\" />\n            </button>\n          </Dialog.Close>\n        </Dialog.Content>\n      </Dialog.Portal>\n    </Dialog.Root>\n  );\n};\n\nconst DefaultContent = ({\n  handleGoogleLogin,\n  error,\n  user,\n}: {\n  handleGoogleLogin: (user: UserProfile | undefined) => void;\n  error: string;\n  user: UserProfile | undefined;\n}) => {\n  const fullAccessFeatures = [\n    `${SUBSCRIBED_USER_MESSAGES.free} more AI-powered messages`,\n    \"Access to all scenarios\",\n    \"Generate translations\",\n    \"Practise listening audio\",\n    \"Track your vocabulary growth\",\n  ];\n\n  return (\n    <>\n      <div className=\"flex flex-col gap-10\">\n        <h2 className=\"flex items-center justify-center gap-2 text-lg font-semibold text-blue-800\">\n          Sign up for full access\n        </h2>\n\n        <div className=\"flex flex-col items-start justify-center gap-2\">\n          {fullAccessFeatures.map((text, index) => (\n            <BulletPoint key={index} point={text} />\n          ))}\n        </div>\n\n        <hr className=\"mx-auto w-1/2 border-gray-400\" />\n\n        <div className=\"flex flex-col items-center justify-center gap-4\">\n          <GoogleButton\n            label=\"Signup with Google\"\n            onClick={() => handleGoogleLogin(user)}\n          />\n\n          {error && <ErrorMessage error={error} />}\n        </div>\n      </div>\n    </>\n  );\n};\n\nconst PricingContent = ({\n  handleGoogleLogin,\n  error,\n  user,\n}: {\n  handleGoogleLogin: (user: UserProfile | undefined) => void;\n  error: string;\n  user: UserProfile | undefined;\n}) => {\n  return (\n    <>\n      <div className=\"flex flex-col gap-10\">\n        <section className=\"flex flex-col items-center justify-center gap-2 text-center\">\n          <h2 className=\"text-lg font-semibold text-blue-800\">\n            Bye bye foreign language anxiety\n          </h2>\n          <p>Start your free trial now by creating an account in seconds.</p>\n        </section>\n\n        <hr className=\"mx-auto w-1/2 border-gray-400\" />\n\n        <div className=\"flex flex-col items-center justify-center gap-4\">\n          <GoogleButton\n            label=\"Signup with Google\"\n            onClick={() => handleGoogleLogin(user)}\n          />\n          <p className=\"text-center text-sm text-gray-400\">\n            After signing up, you'll then be taken to our payment provider to\n            start your free trial.\n          </p>\n          {error && <ErrorMessage error={error} />}\n        </div>\n      </div>\n    </>\n  );\n};\nexport default LoginModal;\n", "import {\n  ActionFunction,\n  json,\n  LoaderFunction,\n  MetaFunction,\n  redirect,\n} from \"@remix-run/node\";\nimport {\n  FetcherWithComponents,\n  useFetcher,\n  useLoaderData,\n} from \"@remix-run/react\";\nimport { BiLockAlt } from \"react-icons/bi\";\nimport { HiOutlineMail } from \"react-icons/hi\";\n\nimport { DecodedIdToken } from \"firebase-admin/lib/auth/token-verifier\";\nimport {\n  GoogleAuthProvider,\n  signInAnonymously,\n  signInWithPopup,\n  UserCredential,\n} from \"firebase/auth\";\nimport { useEffect, useState } from \"react\";\nimport GoogleButton from \"react-google-button\";\nimport Button from \"~/components/core/Buttons\";\nimport Card from \"~/components/core/Card\";\nimport ErrorMessage from \"~/components/core/ErrorMessage\";\nimport { handleClientAuth, handleLogin, handleSignUp } from \"~/models/login\";\nimport { clientAuth } from \"~/services/firebase\";\nimport { getUserSession } from \"~/utils/session.server\";\n\nexport const meta: MetaFunction = () => {\n  return {\n    title: \"LanguageMate | Login\",\n  };\n};\n\nexport const action: ActionFunction = async ({ request }) => {\n  const formData = await request.formData();\n\n  const _action = formData.get(\"_action\");\n  if (_action === \"reset_password\") {\n    return json({\n      error:\n        \"Sorry you have forgotten your password! We have not setup password resetting yet. Contact us and we will send you a reset link.\",\n    });\n  }\n\n  const email = formData.get(\"email\") as string;\n  const uid = formData.get(\"uid\") as string;\n  const token = formData.get(\"token\") as string;\n  const password = formData.get(\"password\") as string;\n  const redirect = formData.get(\"redirect\") as string;\n  const referrer = formData.get(\"referrer\") as string;\n  const hasSetMarketingEmails = formData.get(\"marketing_emails\") == \"true\";\n\n  if (uid && token) {\n    return await handleClientAuth(\n      email,\n      uid,\n      token,\n      redirect,\n      hasSetMarketingEmails,\n      referrer\n    );\n  }\n\n  if (!password) throw Error(\"Something went wrong- no passowrd\");\n\n  if (_action === \"login\") {\n    return await handleLogin(email, password, redirect);\n  }\n\n  if (_action === \"signup\") {\n    return await handleSignUp(\n      email,\n      password,\n      redirect,\n      hasSetMarketingEmails,\n      referrer\n    );\n  }\n\n  return json({});\n};\n\ntype LoaderData = {\n  user: DecodedIdToken | null;\n  redirect: string;\n};\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  const user = await getUserSession(request);\n  if (user) return redirect(\"/scenarios\");\n\n  const searchParams = new URL(request.url).searchParams;\n  const redirectTo = searchParams.get(\"redirect\") ?? \"\";\n\n  return json<LoaderData>({ user, redirect: redirectTo });\n};\n\nexport async function createAccount({\n  userCredentials,\n  fetcher,\n  marketingEmails,\n  referrer,\n  redirect = \"\",\n}: {\n  userCredentials: UserCredential;\n  fetcher: FetcherWithComponents<any>;\n  marketingEmails: boolean;\n  referrer: string;\n  redirect?: string;\n}) {\n  const user = userCredentials.user;\n  const token = await user.getIdToken();\n\n  fetcher.submit(\n    {\n      email: user.email ?? \"\",\n      marketing_emails: `${marketingEmails}`,\n      uid: user.uid,\n      token,\n      redirect,\n      referrer,\n    },\n    { action: \"/login\", method: \"post\" }\n  );\n}\n\nconst Login = () => {\n  const fetcher = useFetcher();\n  const [marketingEmails, setMarketingEmails] = useState(false);\n  const [showEmailLogin, setShowEmailLogin] = useState(false);\n  const [referrer, setReferrer] = useState<string>(\"\");\n  const loaderData = useLoaderData<LoaderData>();\n\n  useEffect(() => {\n    setReferrer(document.referrer);\n  }, []);\n\n  function signInAsGuest() {\n    signInAnonymously(clientAuth)\n      .then((userCredentials) =>\n        createAccount({\n          userCredentials,\n          fetcher,\n          marketingEmails,\n          referrer,\n          redirect: loaderData.redirect,\n        })\n      )\n      .catch((e) => console.log(e));\n  }\n\n  const handleGoogleLogin = async () => {\n    const provider = new GoogleAuthProvider();\n\n    await signInWithPopup(clientAuth, provider)\n      .then((userCredentials) =>\n        createAccount({\n          userCredentials,\n          fetcher,\n          marketingEmails,\n          referrer,\n          redirect: loaderData.redirect,\n        })\n      )\n      .catch((e) => console.log(e));\n  };\n\n  const isDisabled = fetcher.state === \"loading\";\n\n  return (\n    <div className=\"m-auto flex flex-col gap-6 lg:w-1/2\">\n      <div className=\"flex flex-col gap-4\">\n        <Card width=\"full\">\n          <div className=\"flex flex-col gap-4\">\n            <div className=\"flex flex-col gap-4\">\n              <h1 className=\"text-xl font-bold text-blue-800\">\n                Accelerate your learning with Google Signup\n              </h1>\n\n              <p className=\"text-slate-500\">\n                Sign up with Google to start learning immediately, get\n                translations & more for free.\n              </p>\n              <p className=\"text-slate-500\"></p>\n            </div>\n\n            <div className=\"flex flex-col items-center justify-center gap-6\">\n              <GoogleButton\n                disabled={isDisabled}\n                label=\"Continue with Google\"\n                onClick={handleGoogleLogin}\n              />\n            </div>\n            {fetcher.state === \"loading\" && (\n              <p className=\"text-center font-bold text-blue-800\">\n                Getting your account details!\n              </p>\n            )}\n          </div>\n        </Card>\n\n        <p className=\"text-center font-bold\">Or</p>\n\n        <Card width=\"full\">\n          <div className=\"flex flex-col gap-4\">\n            <div className=\"flex flex-col items-center justify-center gap-4\">\n              <EmailLogin\n                disabled={isDisabled}\n                showEmailLogin={showEmailLogin}\n                setShowEmailLogin={setShowEmailLogin}\n                fetcher={fetcher}\n                redirect={loaderData.redirect}\n              />\n              <Button\n                disabled={isDisabled}\n                variant=\"transparent\"\n                onClick={signInAsGuest}\n              >\n                Continue as guest\n              </Button>\n            </div>\n          </div>\n        </Card>\n\n        <img\n          src=\"https://firebasestorage.googleapis.com/v0/b/languagemate2.appspot.com/o/IMG_0059.PNG?alt=media&token=b0426f00-2cc3-471c-9a25-f27ad180d043\"\n          className=\"mx-auto mb-10 h-auto w-1/2 max-w-[300px] rounded-md shadow-md\"\n        />\n      </div>\n    </div>\n  );\n};\n\nconst EmailLogin = ({\n  showEmailLogin,\n  setShowEmailLogin,\n  fetcher,\n  redirect,\n  disabled,\n}: {\n  showEmailLogin: boolean;\n  setShowEmailLogin: (show: boolean) => void;\n  fetcher: FetcherWithComponents<any>;\n  redirect: string;\n  disabled: boolean;\n}) => {\n  return (\n    <>\n      {!showEmailLogin && (\n        <>\n          <Button\n            disabled={disabled}\n            variant=\"transparent\"\n            className=\"cursor-pointer text-sm text-slate-500\"\n            onClick={() => setShowEmailLogin(true)}\n          >\n            Login with email and password\n          </Button>\n        </>\n      )}\n\n      {fetcher?.data?.error && (\n        <div className=\"m-auto text-center\">\n          <ErrorMessage error={fetcher.data.error} />\n        </div>\n      )}\n\n      {showEmailLogin && (\n        <>\n          <fetcher.Form method=\"post\" className=\"lg:w-2/3\">\n            <div className=\"flex flex-col gap-8\">\n              <div className=\"flex flex-col gap-2\">\n                <input name=\"redirect\" hidden readOnly value={redirect} />\n\n                <label className=\"font-semibold\">Email</label>\n                <span className=\"flex w-full items-center gap-2 rounded-md bg-white p-2 font-semibold text-slate-700 shadow-sm placeholder:text-slate-400\">\n                  <HiOutlineMail size={20} className=\"stroke-slate-700\" />\n                  <input\n                    className=\"w-full bg-transparent\"\n                    type=\"email\"\n                    name=\"email\"\n                    placeholder=\"janedoe@gmail.com\"\n                  />\n                </span>\n              </div>\n\n              <div className=\"flex flex-col gap-2\">\n                <label className=\"font-semibold\">Password</label>\n                <span className=\"flex w-full items-center gap-2 rounded-md bg-white p-2 font-semibold text-slate-700 shadow-sm placeholder:text-slate-400\">\n                  <BiLockAlt size={20} className=\"stroke-slate-700\" />\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    className=\"w-full bg-transparent\"\n                    placeholder=\"password\"\n                  />\n                </span>\n              </div>\n\n              <div className=\"flex flex-col gap-6 lg:flex-row\">\n                <Button name=\"_action\" value=\"login\" type=\"submit\">\n                  Login\n                </Button>\n\n                <Button name=\"_action\" value=\"signup\" type=\"submit\">\n                  Sign up\n                </Button>\n              </div>\n\n              <p\n                onClick={() =>\n                  fetcher.submit(\n                    { _action: \"reset_password\" },\n                    { method: \"post\" }\n                  )\n                }\n              >\n                Reset password\n              </p>\n            </div>\n          </fetcher.Form>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Login;\n", "type Width = \"full\" | \"row\";\nenum Variant {}\n\nconst Card = ({\n  children,\n  padding,\n  gap,\n  width,\n}: {\n  children: JSX.Element | JSX.Element[];\n  width: Width;\n  gap?: \"small\";\n  padding?: \"small\";\n}) => {\n  return (\n    <div\n      className={`flex w-full flex-auto flex-col justify-between  rounded-md bg-slate-200 shadow-lg ${\n        width === \"row\" && \" sm:w-1/3 md:w-1/4 xl:w-1/5\"\n      } ${padding === \"small\" ? \"p-3\" : \"px-6 py-10\"} ${\n        gap === \"small\" ? \"gap-4\" : \"gap-10\"\n      }`}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n", "import { json } from \"@remix-run/node\";\nimport { getUserProfile, updateUserProfile } from \"~/utils/db.server\";\n\nimport { createUserSession } from \"~/utils/session.server\";\nimport { signIn, signUp, triggerNewAccountEvents } from \"~/utils/user.server\";\nconst newSignupRedirectAfterLoginPath = \"/app\";\nconst redirectAfterLoginPath = \"/app\";\n\nexport const handleLogin = async (\n  email: string,\n  password: string,\n  redirect: string\n) => {\n  const { res, error } = await signIn(email, password);\n\n  if (error) return handleLoginError(error);\n  if (!res.user) return handleLoginError();\n\n  const token = await res.user.getIdToken();\n\n  return createUserSession(token, redirect || redirectAfterLoginPath);\n};\n\nfunction handleLoginError(errorCode?: string) {\n  if (errorCode === \"404\") return { error: \"Please create an account first\" };\n  if (errorCode === \"401\") return { error: \"Login details are incorrect\" };\n\n  return json({ error: \"Something went wrong\" });\n}\n\nexport const handleSignUp = async (\n  email: string,\n  password: string,\n  redirect: string,\n  hasSetMarketingEmails: boolean,\n  referrer: string\n) => {\n  const { user } = await signUp(\n    email,\n    password,\n    hasSetMarketingEmails,\n    referrer\n  );\n  const token = await user.getIdToken();\n\n  return createUserSession(token, redirect || newSignupRedirectAfterLoginPath);\n};\n\nexport const handleClientAuth = async (\n  email: string,\n  uid: string,\n  token: string,\n  redirect: string,\n  hasSetMarketingEmails: boolean,\n  referrer: string\n) => {\n  const existingUser = await getUserProfile(uid);\n  let relevantRedirect = redirectAfterLoginPath;\n\n  if (!existingUser) {\n    relevantRedirect = newSignupRedirectAfterLoginPath;\n    await triggerNewAccountEvents(email, uid, hasSetMarketingEmails, referrer);\n  }\n\n  const newSignUpToMarketingEmails =\n    existingUser && !existingUser?.marketing_emails && hasSetMarketingEmails;\n\n  if (newSignUpToMarketingEmails) {\n    await updateUserProfile(existingUser.uid, {\n      marketing_emails: hasSetMarketingEmails,\n    });\n  }\n\n  return createUserSession(token, redirect || relevantRedirect);\n};\n", "import { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: process.env.FIREBASE_KEY,\n  authDomain: \"audiomate.firebaseapp.com\",\n  projectId: \"audiomate\",\n  storageBucket: \"audiomate.appspot.com\",\n  messagingSenderId: \"768929423248\",\n  appId: \"1:768929423248:web:8d0f7a3e2617c1ea62dd15\",\n  measurementId: \"G-046G6QMKSH\",\n};\n\nconst app = initializeApp(firebaseConfig);\nconst clientAuth = getAuth(app);\n\nexport { clientAuth };\n", "import { Link } from \"@remix-run/react\";\nimport Button from \"~/components/core/Buttons\";\nimport Header from \"~/components/Header\";\nimport IconWrapper from \"~/components/landing-page/IconWrapper\";\nimport BulletPoint from \"~/components/landing-page/SubBulletPoint\";\n\ntype Answer =\n  | {\n      type: \"p\";\n      content: string;\n    }\n  | {\n      type: \"a\";\n      content: string;\n      to: string;\n    };\n\ntype Faq = {\n  question: string;\n  answer: Answer[];\n};\n\nconst FAQs: Faq[] = [\n  {\n    question: \"How do I learn a language using LanguageMate?\",\n    answer: [\n      {\n        type: \"p\",\n        content:\n          \"LanguageMate offers both guided and unguided scenarios to help you internalize a wide range of vocabulary and grammar.\",\n      },\n      {\n        type: \"p\",\n        content:\n          \"Whether you prefer a structured approach with step-by-step guidance or a more flexible learning experience where you can explore at your own pace, LanguageMate has something for you.\",\n      },\n      {\n        type: \"p\",\n        content:\n          \"Through conversations with the chatbot, you'll be able to practice speaking, listening, and comprehension skills in the language you're trying to learn, making the learning process engaging and effective.\",\n      },\n    ],\n  },\n  {\n    question: \"Is LanguageMate free?\",\n    answer: [\n      {\n        type: \"p\",\n        content: \"Yes, you can start using LanguageMate for free!\",\n      },\n      {\n        type: \"p\",\n        content:\n          \"Our free plan offers limited access, allowing you to send a certain number of messages per day.\",\n      },\n      {\n        type: \"p\",\n        content:\n          \"If you want to perfect your pronunciation, dramatically improve your grammar, or send more messages, you can sign up for one of our paid plans. Our paid plans offer flexible subscription options to fit your budget and learning needs, and provide additional benefits to enhance your language learning experience.\",\n      },\n      {\n        type: \"a\",\n        content: \"See pricing\",\n        to: \"/pricing\",\n      },\n    ],\n  },\n  {\n    question: \"How do I get started?\",\n    answer: [\n      {\n        type: \"p\",\n        content: \"Getting started with LanguageMate is quick and easy!\",\n      },\n      {\n        type: \"a\",\n        to: \"/dashboard\",\n        content: \"Start for free\",\n      },\n      {\n        type: \"p\",\n        content:\n          \"If you want to perfect your pronunciation, dramatically improve your grammar, or send more messages, you can sign up for one of our paid plans. Our paid plans offer flexible subscription options to fit your budget and learning needs, and provide additional benefits to enhance your language learing experience.\",\n      },\n      {\n        type: \"a\",\n        content: \"See pricing\",\n        to: \"/pricing\",\n      },\n      {\n        type: \"p\",\n        content:\n          \"No matter which plan you choose, LanguageMate is designed to help you achieve your language learning goals quickly and effectively.\",\n      },\n      {\n        type: \"p\",\n        content:\n          \"So why wait? Sign up today and start improving your language skills!\",\n      },\n    ],\n  },\n  {\n    question: \"How accurate are the corrections provided by LanguageMate?\",\n    answer: [\n      {\n        type: \"p\",\n        content:\n          \"LanguageMate uses advanced natural language processing algorithms to provide accurate corrections and feedback on your language skills. Our technology is constantly improving, thanks to our team of engineers who work tirelessly to enhance the accuracy and effectiveness of our platform.\",\n      },\n      {\n        type: \"p\",\n        content:\n          \"While our rate of correctness is very high, it's important to note that no language learning tool can provide 100% accurate corrections all the time. That's why we encourage our users to think critically about the feedback they receive and to use it as a learning opportunity to improve their language skills.\",\n      },\n      {\n        type: \"p\",\n        content:\n          \"Our top-tier Accelerated Plan also offers in-depth explanations of why your messages were corrected, giving you a deeper understanding of the language rules and helping you to avoid making the same mistakes in the future.\",\n      },\n      {\n        type: \"p\",\n        content:\n          \"With LanguageMate, you can be confident that you're receiving high-quality feedback that will help you progress in your language learning journey.\",\n      },\n    ],\n  },\n];\n\nconst StartTrialButton = () => {\n  return (\n    <Link to=\"/pricing?trial=true\" className=\"m-auto w-full max-w-lg\">\n      <Button>Start your free trial</Button>\n    </Link>\n  );\n};\n\nconst StartFreeButton = () => {\n  return (\n    <Link to=\"/dashboard\" className=\"m-auto w-full max-w-lg\">\n      <Button>Start for free</Button>\n    </Link>\n  );\n};\n\nexport const config = {\n  runtime: \"edge\",\n};\n\nconst Index = () => {\n  return (\n    <div>\n      <Header user={undefined} />\n\n      <div className=\"mx-auto flex max-w-5xl flex-col gap-10 scroll-smooth pb-10\">\n        <section className=\"mx-auto flex max-w-lg flex-col gap-8\">\n          <h1 className=\"text-center text-3xl font-bold text-orange-500\">\n            Say it, Edit it, Perfect it\n          </h1>\n          <h2 className=\"text-center text-xl font-semibold text-slate-800\">\n            Effortlessly create and edit text on the move in seconds\n          </h2>\n\n          <Link to=\"/app\" className=\"mx-auto w-fit text-lg\">\n            <Button>Join the waitlist</Button>\n          </Link>\n        </section>\n\n        <img\n          className=\"mx-auto w-2/3 rounded-xl shadow-inner\"\n          src=\"https://storage.cloud.google.com/audiomate-public/demo.png\"\n        />\n        {/* <Hero trial={trial} />\n      <div className=\"flex flex-col gap-16 py-10 lg:gap-40\" id=\"features\">\n        <div className=\"m-auto flex max-w-xl flex-col gap-8 text-center\">\n          <div className=\"flex flex-col gap-4\">\n            <p className=\"text-lg font-bold uppercase\">\n              A complete learning tool\n            </p>\n            <h2 className=\"text-3xl font-bold text-blue-800\">\n              Learn from the comfort of your own home\n            </h2>\n          </div>\n\n          <p className=\"flex flex-col gap-4 text-lg\">\n            <span className=\"text-left lg:text-center\">\n              <span className=\"font-semibold text-red-600\">\n                Before LanguageMate:{\" \"}\n              </span>\n              Practising speaking your target language with other people\n              triggers anxiety.{\" \"}\n            </span>\n            <span className=\"text-left lg:text-center\">\n              <span className=\"font-semibold text-blue-800\">\n                After LanguageMate:{\" \"}\n              </span>\n              You feel calm speaking to LanguageMate knowing there is no\n              judgment whilst you progress towards fluency.\n            </span>\n          </p>\n        </div>\n\n        <Section\n          Icon={() => <BsTranslate size={30} className=\"fill-blue-800\" />}\n          video=\"https://storage.googleapis.com/languagemate-public/traslation.mp4\"\n          title=\"Learn from the translations\"\n          paragrapgh=\"Translate messages quickly.\"\n          bullets={[\"Learn meanings of words in context\"]}\n        />\n\n        <Section\n          Icon={() => <MdQuiz size={30} className=\"fill-blue-800\" />}\n          video=\"https://storage.googleapis.com/languagemate-public/Improvement%20demo.mp4\"\n          title=\"Improve your grammar\"\n          right\n          paragrapgh=\"Generate corrections on the fly\"\n          bullets={[\"Understand the grammar rule\", \"Learn from your mistakes\"]}\n        />\n\n        <Section\n          Icon={() => <MdQuiz size={30} className=\"fill-blue-800\" />}\n          video=\"https://storage.googleapis.com/languagemate-public/speech-to-text.mp4\"\n          title=\"Perfect your pronunciation\"\n          paragrapgh=\"Speak as you would in real life.\"\n          bullets={[\n            \"Advanced speech recognition technology\",\n            \"Lightning fast conversations\",\n          ]}\n        />\n\n        <Section\n          Icon={() => <BiWorld size={30} className=\"fill-blue-800\" />}\n          video=\"https://storage.googleapis.com/languagemate-public/native.mp4\"\n          title=\"Speak with a polyglot\"\n          right\n          paragrapgh=\"LanguageMate will understand you even if you speak in your native language.\"\n          bullets={[\n            \"Expand your active vocabulary through conversations\",\n            \"Grow your passive vocabulary through reading\",\n            \"Maintain streaks by completing conversations\",\n          ]}\n        />\n\n        <Section\n          Icon={() => <IoReader size={30} className=\"fill-blue-800\" />}\n          title=\"Go to definitions\"\n          imageSource=\"https://storage.googleapis.com/languagemate-public/definitions.png\"\n          paragrapgh=\"Easily find the meaning of words.\"\n          bullets={[\n            \"Learn the meaning of words in context\",\n            \"Expand your active vocabulary\",\n          ]}\n        />\n      </div>\n      <section className=\"flex flex-col gap-8\">\n        <div className=\"mb-8 flex flex-col gap-4\">\n          <h2 className=\"m-auto max-w-xl text-center text-3xl font-bold sm:mb-16 lg:text-5xl\">\n            Everything you need to become fluent\n          </h2>\n          <p className=\"text-center text-lg\">\n            LanguageMate is a simple but powerful tool that supercharges you\n            towards fluency!\n          </p>\n        </div>\n\n        <MainFeatureBulletPoints />\n\n        {trial ? <StartTrialButton /> : <StartFreeButton />}\n      </section>\n      <section className=\"flex flex-col gap-4\">\n        <h2 className=\"text-3xl font-bold text-blue-800\">FAQs</h2>\n\n        <div className=\"mx-auto flex flex-col flex-wrap gap-4 lg:grid lg:grid-cols-2\">\n          {FAQs.map(({ question, answer }, index) => (\n            <Card width=\"full\" key={index}>\n              <details>\n                <summary className=\"text-lg font-bold text-blue-800\">\n                  {question}\n                </summary>\n\n                <div className=\"mt-4 flex flex-col gap-6\">\n                  {answer.map((answerBlock, index) => {\n                    const { type, content } = answerBlock;\n\n                    if (type === \"p\") return <p key={index}>{content}</p>;\n                    if (type === \"a\")\n                      return (\n                        <div className=\"m-auto w-1/2\" key={index}>\n                          <Button>\n                            <Link to={answerBlock.to}>{content}</Link>\n                          </Button>\n                        </div>\n                      );\n                    return \"\";\n                  })}\n                </div>\n              </details>\n            </Card>\n          ))}\n        </div>\n      </section>\n      <div className=\"flex flex-col items-center justify-center gap-4 py-10 \">\n        {trial ? (\n          <StartTrialButton />\n        ) : (\n          <Link to=\"/dashboard\" className=\"m-auto w-full max-w-lg\">\n            <Button>Get started now for free</Button>\n          </Link>\n        )}\n\n        <span className=\"text-lg\">Or</span>\n        <Link to=\"/pricing\" className=\"m-auto w-full max-w-lg\">\n          <Button variant=\"transparent\">See our plans</Button>\n        </Link>\n      </div> */}\n      </div>\n    </div>\n  );\n};\ntype SectionProps = {\n  imageSource?: string;\n  title: string;\n  paragrapgh: string;\n  right?: boolean;\n  Icon?: React.ElementType;\n  bullets?: string[];\n  video?: string;\n};\n\nconst Section = ({\n  video,\n  imageSource,\n  title,\n  paragrapgh,\n  right,\n  Icon,\n  bullets,\n}: SectionProps) => {\n  return (\n    <section className=\"flex flex-col items-center justify-center gap-10 lg:grid lg:grid-cols-2\">\n      <div className=\"flex w-full flex-col gap-4 text-left\">\n        {Icon && <IconWrapper Icon={() => <Icon />} />}\n        <h1 className=\"text-xl font-bold text-blue-800\">{title}</h1>\n        <p className=\"text-lg text-slate-700\">{paragrapgh}</p>\n        <div className=\"mt-4 flex flex-col gap-4\">\n          {bullets?.map((point, index) => (\n            <BulletPoint point={point} key={index} />\n          ))}\n        </div>\n      </div>\n      {imageSource && (\n        <img\n          className={`block h-auto w-full max-w-xl rounded-xl shadow-inner ${\n            right ? \"lg:order-last\" : \"lg:order-first\"\n          }`}\n          src={imageSource}\n          loading=\"lazy\"\n        />\n      )}\n      {video && (\n        <video\n          className={`block h-auto w-full max-w-xl rounded-xl shadow-inner ${\n            right ? \"lg:order-last\" : \"lg:order-first\"\n          }`}\n          src={video}\n          loop\n          muted\n          playsInline\n          autoPlay\n          preload=\"none\"\n          poster={imageSource}\n        />\n      )}\n    </section>\n  );\n};\n\nconst Hero = ({ trial }: { trial: boolean }) => {\n  return (\n    <section\n      id=\"hero\"\n      className=\"flex flex-col items-center justify-center gap-8 text-center\"\n    >\n      <h1 className=\"text-2xl font-semibold tracking-tight text-blue-700\">\n        Is{\" \"}\n        <span className=\"text-bold  tracking-tighter text-red-600\">\n          anxiety\n        </span>{\" \"}\n        holding you back from mastering foreign languages?\n      </h1>\n\n      <h2 className=\"max-w-xl text-xl tracking-wide\">\n        Unleash your potential with{\" \"}\n        <span className=\"font-semibold text-blue-700\">LanguageMate</span>\n      </h2>\n\n      <h3 className=\"text-lg\">\n        Become fluent in any target language by speaking{\" \"}\n        <span className=\"font-semibold text-blue-700\">anxiety-free</span> to the{\" \"}\n        <span className=\"font-semibold text-blue-700\">\n          world's best language-learning chatbot{\" \"}\n        </span>\n      </h3>\n\n      <div className=\"m-auto flex w-full max-w-3xl flex-col gap-6 md:flex-row md:justify-center [&>button]:h-full\">\n        {trial ? <StartTrialButton /> : <StartFreeButton />}\n\n        <Link to=\"#features\" className=\"w-full font-semibold\">\n          <Button variant=\"transparent\">Learn more</Button>\n        </Link>\n      </div>\n\n      <img\n        src=\"https://storage.googleapis.com/languagemate-public/branded-screenshot.png\"\n        className=\"w-4/5 max-w-md\"\n      />\n      <div className=\"[&>button]:font-semibold\">\n        {trial ? <StartTrialButton /> : <StartFreeButton />}\n      </div>\n    </section>\n  );\n};\n\nexport default Index;\n", "const Terms = () => {\n  return (\n    <div className=\"flex flex-col gap-8\">\n      <h1 className=\"font-bold text-blue-800\">Terms and conditions</h1>\n    </div>\n  );\n};\n\nexport default Terms;\n", "import { useFetcher } from \"@remix-run/react\";\nimport { useEffect, useState } from \"react\";\nimport { BiEdit } from \"react-icons/bi\";\nimport { BsArrowLeftShort, BsArrowRightShort } from \"react-icons/bs\";\nimport { CgSpinner } from \"react-icons/cg\";\nimport { HiOutlineMicrophone } from \"react-icons/hi\";\nimport { IoMdSend } from \"react-icons/io\";\nimport { IoCopy, IoCopyOutline, IoShareOutline } from \"react-icons/io5\";\nimport Header from \"~/components/Header\";\n\nconst App = () => {\n  const fetcher = useFetcher();\n  const [versions, setVersions] = useState<string[]>([]);\n  const [currentVersionIndex, setCurrentVersionIndex] = useState<null | number>(\n    null\n  );\n  const [inputText, setInputText] = useState(\"\");\n  const [textEditMode, setTextEditMode] = useState(false);\n  const text = fetcher?.data?.text;\n  const currentVersion = versions[currentVersionIndex ?? versions.length - 1];\n\n  useEffect(() => {\n    if (text) {\n      setVersions((curr) => [...curr, text]);\n      setCurrentVersionIndex(null);\n    }\n  }, [text]);\n\n  const error =\n    fetcher?.data?.error &&\n    (typeof fetcher?.data?.error === \"string\"\n      ? fetcher?.data?.error\n      : \"Something went wrong\");\n  const isLoading =\n    fetcher.state === \"submitting\" || fetcher.state === \"loading\";\n\n  const [duration, setDuration] = useState(0);\n  const [recording, setRecording] = useState(false);\n  const [timer, setTimer] = useState<NodeJS.Timer | null>(null);\n  const [mediaRecorder, setMediaRecorder] = useState<MediaRecorder | null>(\n    null\n  );\n  const [audioChunks, setAudioChunks] = useState<Blob[] | null>(null);\n\n  function changeRecording() {\n    if (recording) {\n      stopRecording(mediaRecorder);\n    } else {\n      startRecording({\n        setMediaRecorder,\n        setAudioChunks,\n        setDuration,\n        setTimer,\n      });\n    }\n    setRecording(!recording);\n  }\n\n  useEffect(() => {\n    if (audioChunks) {\n      const audioBlob = new Blob(audioChunks, { type: \"audio/mp3\" });\n\n      submitForm(audioBlob);\n\n      cleanUp();\n    }\n  }, [audioChunks]);\n\n  function submitForm(audioBlob?: Blob) {\n    const form = new FormData();\n    if (audioBlob) form.append(\"audio\", audioBlob);\n    form.append(\"input_text\", inputText);\n    form.append(\"past_text\", currentVersion);\n    fetcher.submit(form, {\n      method: \"post\",\n      encType: \"multipart/form-data\",\n      action: \"/api/generate-text\",\n    });\n  }\n\n  function cleanUp() {\n    setMediaRecorder(null);\n    setAudioChunks(null);\n    if (timer) clearInterval(timer);\n    setTimer(null);\n    setDuration(0);\n  }\n\n  useEffect(() => {\n    const AudioRecorder = require(\"audio-recorder-polyfill\");\n    window.MediaRecorder = AudioRecorder;\n  }, []);\n\n  const isLeftArrowDisabled =\n    versions.length === 0 || currentVersionIndex === 0;\n  const isRightArrowDisabled =\n    typeof currentVersionIndex !== \"number\" ||\n    currentVersionIndex === versions.length - 1;\n\n  return (\n    <div className=\"grid h-screen grid-rows-8 gap-4 pb-4\">\n      <div className=\"w-full\">\n        <Header user={undefined} />\n      </div>\n\n      <section className=\"relative row-span-6 mx-2 rounded-lg bg-white text-gray-900 shadow lg:mx-auto lg:w-full lg:max-w-xl\">\n        <div className=\"absolute z-10 flex h-12 w-full items-center justify-center \">\n          <button\n            className=\"absolute left-0 top-0 flex h-full items-center justify-center gap-2 rounded-br-lg rounded-tl-lg bg-orange-500 px-3 py-2 text-gray-800\"\n            onClick={() => {\n              if (!currentVersion) return;\n              navigator.share({ text: currentVersion });\n            }}\n          >\n            <IoShareOutline size=\"20\" />\n          </button>\n\n          <button\n            className=\"absolute right-0 top-0 flex h-full items-center justify-center gap-2 rounded-bl-lg rounded-tr-lg bg-orange-500 px-3 py-2 text-gray-800\"\n            onClick={() => {\n              if (!currentVersion) return;\n              navigator.clipboard.writeText(currentVersion);\n              alert(\"Copied\");\n            }}\n          >\n            <IoCopyOutline size=\"20\" />\n          </button>\n\n          <div className=\"flex h-full w-full items-center justify-center gap-2 text-center\">\n            <button\n              disabled={isLeftArrowDisabled}\n              onClick={() =>\n                setCurrentVersionIndex((curr) => {\n                  console.log(curr, versions);\n                  if (curr) return Math.max(curr - 1, 0);\n                  return Math.max(versions.length - 2, 0);\n                })\n              }\n            >\n              <BsArrowLeftShort\n                size=\"35\"\n                className={`shrink-0 rounded-lg bg-gray-200 p-1 ${\n                  isLeftArrowDisabled ? \"text-gray-400\" : \"text-gray-700\"\n                }`}\n              />\n            </button>\n            <p className=\"w-32 font-semibold\">\n              {typeof currentVersionIndex === \"number\"\n                ? `Version ${currentVersionIndex + 1}`\n                : \"Latest version\"}\n            </p>\n            <button\n              disabled={isRightArrowDisabled}\n              onClick={() =>\n                setCurrentVersionIndex((curr) => {\n                  if (curr) return Math.min(curr + 1, versions.length - 1);\n                  return 1;\n                })\n              }\n            >\n              <BsArrowRightShort\n                size=\"35\"\n                className={`shrink-0  rounded-lg bg-gray-200 p-1 ${\n                  isRightArrowDisabled ? \"text-gray-400\" : \"text-gray-700\"\n                }`}\n              />\n            </button>\n          </div>\n        </div>\n        <div className=\"relative flex h-full w-full resize-none items-center justify-center pt-12 outline-none\">\n          <textarea\n            className=\"h-full w-full resize-none px-4 py-2 outline-none\"\n            value={currentVersion}\n            contentEditable={false}\n            placeholder={`Click the record button below and say some instructions.\\n\\nYou will then be able to make further edits.`}\n            readOnly\n          />\n          {isLoading && (\n            <p className=\"absolute top-1/2 flex -translate-y-1/2 transform flex-col items-center justify-center gap-4\">\n              <span>Loading</span>\n              <CgSpinner\n                className=\"flex-shrink-0 animate-spin  text-orange-500\"\n                size=\"30\"\n              />\n            </p>\n          )}\n        </div>\n      </section>\n\n      {textEditMode ? (\n        <section className=\"relative row-span-1 flex w-full items-center justify-center px-2\">\n          <div className=\"rounded bg-gray-200 p-2 shadow\">\n            <HiOutlineMicrophone\n              size=\"25\"\n              onClick={() => setTextEditMode(false)}\n              className=\"text-gray-900\"\n            />\n          </div>\n\n          <textarea\n            value={inputText}\n            onChange={(e) => setInputText(e.currentTarget.value)}\n            className=\"m-4 h-full w-full resize-none rounded p-2 shadow outline-none\"\n            onKeyDown={(e) => {\n              if (e.keyCode === 13 && !e.shiftKey) submitForm();\n            }}\n            disabled={isLoading}\n          />\n          <button\n            type=\"submit\"\n            className=\"border border-transparent p-2\"\n            disabled={isLoading}\n            onClick={() => submitForm()}\n          >\n            <IoMdSend\n              size=\"20\"\n              className={` transition-colors duration-100 ${\n                prompt.length > 0 ? \"fill-gray-50\" : \"fill-gray-800\"\n              }`}\n            />\n          </button>\n        </section>\n      ) : (\n        <section className=\"relative row-span-1 flex w-full items-center justify-center\">\n          <Microphone\n            recording={recording}\n            changeRecording={changeRecording}\n            duration={duration}\n          />\n\n          {recording ? (\n            <p className=\"absolute right-10 top-1/2 -translate-y-1/2 transform text-lg\">\n              {duration} seconds{\" \"}\n            </p>\n          ) : (\n            <button\n              onClick={() => setTextEditMode(true)}\n              className=\"absolute right-10 top-1/2 -translate-y-1/2 transform  rounded-xl bg-gray-200  p-3 text-gray-800 shadow \"\n            >\n              <BiEdit size=\"20\" className=\"shrink-0\" />\n            </button>\n          )}\n        </section>\n      )}\n      {error && (\n        <p className=\"rounded bg-red-200 px-2 py-1 text-center font-semibold shadow\">\n          {error}\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n\nfunction startRecording({\n  setMediaRecorder,\n  setAudioChunks,\n  setDuration,\n  setTimer,\n}: {\n  setMediaRecorder: React.Dispatch<React.SetStateAction<MediaRecorder | null>>;\n  setAudioChunks: React.Dispatch<React.SetStateAction<Blob[] | null>>;\n  setDuration: React.Dispatch<React.SetStateAction<number>>;\n  setTimer: React.Dispatch<React.SetStateAction<NodeJS.Timeout | null>>;\n}) {\n  navigator.mediaDevices\n    .getUserMedia({ audio: true, video: false })\n    .then((stream) => {\n      const localMediaRecorder: MediaRecorder = new MediaRecorder(stream);\n\n      localMediaRecorder.start();\n      const timer = setInterval(() => {\n        setDuration((curr) => curr + 1);\n      }, 1000);\n      setTimer(timer);\n\n      localMediaRecorder.addEventListener(\"dataavailable\", (event) => {\n        console.log(\"Recording stopped, data available\");\n        setAudioChunks((prev) => [...(prev ?? []), event.data]);\n      });\n\n      setMediaRecorder(localMediaRecorder);\n    });\n}\n\nfunction stopRecording(mediaRecorder: MediaRecorder | null) {\n  if (!mediaRecorder) {\n    console.error(\"mediaRecorder is not defined\");\n    return;\n  }\n\n  mediaRecorder.stop();\n  mediaRecorder.stream.getAudioTracks().forEach((track) => track.stop());\n}\n\nconst Microphone = ({\n  changeRecording,\n  recording,\n  duration,\n}: {\n  changeRecording: () => void;\n  recording: boolean;\n  duration: number;\n}) => {\n  return (\n    <div\n      className={`cols-span-1 mx-auto w-fit rounded-xl p-4 shadow-lg transition-colors duration-500 ${\n        recording\n          ? duration % 2\n            ? \"bg-red-500\"\n            : \"bg-red-100\"\n          : \"bg-orange-500\"\n      }`}\n    >\n      <HiOutlineMicrophone\n        onClick={changeRecording}\n        size=\"40\"\n        className=\" shrink-0  text-gray-800\"\n      />\n    </div>\n  );\n};\n", "export default {'version':'6db53b27','entry':{'module':'/build/entry.client-EDJAMGSK.js','imports':['/build/_shared/chunk-VFRHADDM.js','/build/_shared/chunk-VNTHNYQZ.js','/build/_shared/chunk-FN3KWL4V.js','/build/_shared/chunk-4IYZMDEG.js']},'routes':{'root':{'id':'root','parentId':undefined,'path':'','index':undefined,'caseSensitive':undefined,'module':'/build/root-2CRB43IA.js','imports':['/build/_shared/chunk-ZA2EH22E.js','/build/_shared/chunk-QX3IQUE6.js','/build/_shared/chunk-GR2G7SHA.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':true,'hasErrorBoundary':true},'routes/api/generate-text':{'id':'routes/api/generate-text','parentId':'root','path':'api/generate-text','index':undefined,'caseSensitive':undefined,'module':'/build/routes/api/generate-text-TXHP5IM5.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/api/login/link-guest-account':{'id':'routes/api/login/link-guest-account','parentId':'root','path':'api/login/link-guest-account','index':undefined,'caseSensitive':undefined,'module':'/build/routes/api/login/link-guest-account-425PLXEO.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/api/stripe-webhook':{'id':'routes/api/stripe-webhook','parentId':'root','path':'api/stripe-webhook','index':undefined,'caseSensitive':undefined,'module':'/build/routes/api/stripe-webhook-RWBDFGAQ.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/api/tts':{'id':'routes/api/tts','parentId':'root','path':'api/tts','index':undefined,'caseSensitive':undefined,'module':'/build/routes/api/tts-TGKRO7YL.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/app':{'id':'routes/app','parentId':'root','path':'app','index':undefined,'caseSensitive':undefined,'module':'/build/routes/app-GJWPXTFP.js','imports':['/build/_shared/chunk-GWK4HEH4.js','/build/_shared/chunk-UYXFX4VJ.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/contact':{'id':'routes/contact','parentId':'root','path':'contact','index':undefined,'caseSensitive':undefined,'module':'/build/routes/contact-ZDYSYRDV.js','imports':undefined,'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/index':{'id':'routes/index','parentId':'root','path':undefined,'index':true,'caseSensitive':undefined,'module':'/build/routes/index-UL6W5AFK.js','imports':['/build/_shared/chunk-2AAQGYC7.js','/build/_shared/chunk-UYXFX4VJ.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/login':{'id':'routes/login','parentId':'root','path':'login','index':undefined,'caseSensitive':undefined,'module':'/build/routes/login-DZNP3JU3.js','imports':['/build/_shared/chunk-NQHSKJRY.js','/build/_shared/chunk-GWK4HEH4.js','/build/_shared/chunk-UYXFX4VJ.js','/build/_shared/chunk-RRK7CBX6.js'],'hasAction':true,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/payment/failure':{'id':'routes/payment/failure','parentId':'root','path':'payment/failure','index':undefined,'caseSensitive':undefined,'module':'/build/routes/payment/failure-QK24HLX7.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/payment/success':{'id':'routes/payment/success','parentId':'root','path':'payment/success','index':undefined,'caseSensitive':undefined,'module':'/build/routes/payment/success-7ISRKUQC.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/pricing':{'id':'routes/pricing','parentId':'root','path':'pricing','index':undefined,'caseSensitive':undefined,'module':'/build/routes/pricing-QHHBTN2U.js','imports':['/build/_shared/chunk-2AAQGYC7.js','/build/_shared/chunk-NQHSKJRY.js','/build/_shared/chunk-GWK4HEH4.js','/build/_shared/chunk-UYXFX4VJ.js','/build/_shared/chunk-RRK7CBX6.js'],'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/profile/payment':{'id':'routes/profile/payment','parentId':'root','path':'profile/payment','index':undefined,'caseSensitive':undefined,'module':'/build/routes/profile/payment-A3OYCH57.js','imports':['/build/_shared/chunk-RRK7CBX6.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/terms':{'id':'routes/terms','parentId':'root','path':'terms','index':undefined,'caseSensitive':undefined,'module':'/build/routes/terms-33F5EAA2.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false}},'cssBundleHref':undefined,'hmr':undefined,'url':'/build/manifest-6DB53B27.js'};", "\nimport * as entryServer from \"/Users/alex/projects/emailmate/app/entry.server.tsx\";\nimport * as route0 from \"./root.tsx\";\nimport * as route1 from \"./routes/api/login/link-guest-account.tsx\";\nimport * as route2 from \"./routes/api/stripe-webhook.tsx\";\nimport * as route3 from \"./routes/api/generate-text.tsx\";\nimport * as route4 from \"./routes/payment/failure.tsx\";\nimport * as route5 from \"./routes/payment/success.tsx\";\nimport * as route6 from \"./routes/profile/payment.tsx\";\nimport * as route7 from \"./routes/api/tts.tsx\";\nimport * as route8 from \"./routes/contact.tsx\";\nimport * as route9 from \"./routes/pricing.tsx\";\nimport * as route10 from \"./routes/index.tsx\";\nimport * as route11 from \"./routes/login.tsx\";\nimport * as route12 from \"./routes/terms.tsx\";\nimport * as route13 from \"./routes/app.tsx\";\n  export { default as assets } from \"@remix-run/dev/assets-manifest\";\n  export const assetsBuildDirectory = \"public/build\";\n  export const future = {\"unstable_cssModules\":false,\"unstable_cssSideEffectImports\":false,\"unstable_dev\":false,\"unstable_postcss\":false,\"unstable_tailwind\":false,\"unstable_vanillaExtract\":false,\"v2_errorBoundary\":false,\"v2_meta\":false,\"v2_normalizeFormMethod\":false,\"v2_routeConvention\":false};\n  export const publicPath = \"/build/\";\n  export const entry = { module: entryServer };\n  \n  export const routes = {\n    \"root\": {\n      id: \"root\",\n      parentId: undefined,\n      path: \"\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route0\n    },\n  \"routes/api/login/link-guest-account\": {\n      id: \"routes/api/login/link-guest-account\",\n      parentId: \"root\",\n      path: \"api/login/link-guest-account\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route1\n    },\n  \"routes/api/stripe-webhook\": {\n      id: \"routes/api/stripe-webhook\",\n      parentId: \"root\",\n      path: \"api/stripe-webhook\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route2\n    },\n  \"routes/api/generate-text\": {\n      id: \"routes/api/generate-text\",\n      parentId: \"root\",\n      path: \"api/generate-text\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route3\n    },\n  \"routes/payment/failure\": {\n      id: \"routes/payment/failure\",\n      parentId: \"root\",\n      path: \"payment/failure\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route4\n    },\n  \"routes/payment/success\": {\n      id: \"routes/payment/success\",\n      parentId: \"root\",\n      path: \"payment/success\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route5\n    },\n  \"routes/profile/payment\": {\n      id: \"routes/profile/payment\",\n      parentId: \"root\",\n      path: \"profile/payment\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route6\n    },\n  \"routes/api/tts\": {\n      id: \"routes/api/tts\",\n      parentId: \"root\",\n      path: \"api/tts\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route7\n    },\n  \"routes/contact\": {\n      id: \"routes/contact\",\n      parentId: \"root\",\n      path: \"contact\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route8\n    },\n  \"routes/pricing\": {\n      id: \"routes/pricing\",\n      parentId: \"root\",\n      path: \"pricing\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route9\n    },\n  \"routes/index\": {\n      id: \"routes/index\",\n      parentId: \"root\",\n      path: undefined,\n      index: true,\n      caseSensitive: undefined,\n      module: route10\n    },\n  \"routes/login\": {\n      id: \"routes/login\",\n      parentId: \"root\",\n      path: \"login\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route11\n    },\n  \"routes/terms\": {\n      id: \"routes/terms\",\n      parentId: \"root\",\n      path: \"terms\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route12\n    },\n  \"routes/app\": {\n      id: \"routes/app\",\n      parentId: \"root\",\n      path: \"app\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route13\n    }\n  };"],
  "mappings": "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",
  "names": ["import_react", "import_react", "import_jsx_dev_runtime", "import_react", "import_io", "import_react", "import_react", "import_jsx_dev_runtime", "import_jsx_dev_runtime", "import_react", "import_jsx_dev_runtime", "_a", "import_jsx_dev_runtime", "import_node", "import_firebase_admin", "import_app", "admin", "config", "initializeAdminApp", "_a", "firebaseConfig", "action", "import_node", "import_node", "action", "stripe", "action", "import_node", "Errors", "_a", "config", "action", "import_jsx_dev_runtime", "import_jsx_dev_runtime", "loader", "import_node", "import_jsx_dev_runtime", "loader", "stripe", "action", "import_node", "action", "loader", "import_node", "import_jsx_dev_runtime", "action", "meta", "import_node", "import_react", "import_jsx_dev_runtime", "import_bs", "import_jsx_dev_runtime", "import_jsx_dev_runtime", "import_jsx_dev_runtime", "import_ai", "import_bi", "import_jsx_dev_runtime", "import_react", "import_auth", "import_react_google_button", "import_io", "action", "loader", "meta", "import_node", "import_react", "import_bi", "import_auth", "import_jsx_dev_runtime", "import_node", "redirect", "import_app", "import_auth", "import_jsx_dev_runtime", "meta", "action", "redirect", "loader", "GoogleButton", "_a", "import_jsx_dev_runtime", "redirect", "_a", "user", "GoogleButton", "import_jsx_dev_runtime", "meta", "action", "_a", "plan", "import_react", "import_jsx_dev_runtime", "import_jsx_dev_runtime", "app_default", "import_react", "import_bi", "import_bs", "import_hi", "import_io", "import_jsx_dev_runtime", "App", "_a", "app_default"]
}
